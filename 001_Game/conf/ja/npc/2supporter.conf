[ga2.setting.GameSetting]

import ga2.data.*;
import kotori.gfx.*;

constants ga2.data.StageConstants;
constants ga2.data.NPCInfo;

/* --------------------------------------------------------------------
 * ベース（？）
 * --------------------------------------------------------------------*/
npc[id("BASE", 0)] = #NPCInfo(){
	name = "Enemy Basic 0";
	style = 0;
	head = 0;
	face = 1;
	body = 20;
	
	HP = 100;
	
	//プレイヤーの登場エモーションコンダクト　
	conduct(ConductFirst, #ConductDefine(){
		set(motionSetEnd(EM_A001));
	});
	conduct(ConductFirst, #ConductDefine(){
		set(motionSetEnd(EM_A002));
	});
	conduct(ConductFirst, #ConductDefine(){
		set(motionSetEnd(EM_A003));
	});
	conduct(ConductFirst, #ConductDefine(){
		set(motionSetEnd(EM_A004));
	});
	conduct(ConductFirst, #ConductDefine(){
		set(motionSetEnd(EM_A005));
	});
	conduct(ConductFirst, #ConductDefine(){
		set(motionSetEnd(EM_A006));
	});
	conduct(ConductFirst, #ConductDefine(){
		set(motionSetEnd(EM_A007));
	});
	conduct(ConductFirst, #ConductDefine(){
		set(motionSetEnd(EM_A008));
	});
	conduct(ConductFirst, #ConductDefine(){
		set(motionSetEnd(EM_A009));
	});
	conduct(ConductFirst, #ConductDefine(){
		set(motionSetEnd(EM_A010));
	});
	conduct(ConductFirst, #ConductDefine(){
		set(motionSetEnd(EM_A011));
	});
	conduct(ConductFirst, #ConductDefine(){
		set(motionSetEnd(EM_A012));
	});
	conduct(ConductFirst, #ConductDefine(){
		set(motionSetEnd(EM_A013));
	});
	conduct(ConductFirst, #ConductDefine(){
		set(motionSetEnd(EM_A014));
	});

	//NPCの退散エモーションコンダクト
	conduct(ConductEscape, #ConductDefine(){
		search = SE_NEAR;
		move = MV_LEAVE_DASH;

		branchOperation(0).co(checkWaitTime(0));
		branchOperation(1).co(checkWaitTime(5));
		set(chatSetBaseEscape(0).lock());

		set(avoidAttackSet().lock());
		pack(motionSetEnd(EM_S011).lock());
		pack(chatSetBase(1).lock());
		pack(escape(EM_E001).lock());
	});
	conduct(ConductEscape, #ConductDefine(){
		search = SE_NEAR;
		move = MV_LEAVE_DASH;

		branchOperation(0).co(checkWaitTime(0));
		branchOperation(1).co(checkWaitTime(5));
		set(chatSetBaseEscape(0).lock());

		set(avoidAttackSet().lock());
		pack(motionSetEnd(EM_S011).lock());
		pack(chatSetBase(1).lock());
		pack(escape(EM_E002).lock());
	});
};

npc[id("BASE", 1)] = #NPCInfo(){
	name = "Enemy Basic 1";
	style = 0;
	head = 0;
	face = 1;
	body = 20;

	HP = 100;

//-----------------------------------------------
	//定点→回避
	conduct(ConductMain, #ConductDefine(){
		search = SE_NEAR;
		move = MV_AMBUSH;
		attack = AT_FIT;

		branchConduct(1, 0.25f).co(checkDownTarget());
		branchConduct(2, 0.125f).co(checkDownTarget());
		branchConduct(1).co(checkWaitTime(10));
	});
	conduct(ConductMain, #ConductDefine(){
		search = SE_NEAR;
		move = MV_LEAVE_DASH;

		branchConduct(0).co(checkWaitTime(7));
	});

//-----------------------------------------------

};



//-----------------------------------------------
//-----------------------------------------------
//-----------------------------------------------
//-----------------------------------------------
//-----------------------------------------------
//-----------------------------------------------
//-----------------------------------------------
//-----------------------------------------------
//-----------------------------------------------
//-----------------------------------------------
//-----------------------------------------------
//-----------------------------------------------
//-----------------------------------------------
//-----------------------------------------------
//-----------------------------------------------
//-----------------------------------------------
//-----------------------------------------------
//-----------------------------------------------
//-----------------------------------------------

///////////////////////////////////////////////////////
//	特級メガフォース隊
///////////////////////////////////////////////////////
npc[id("MFS", 0)] = #NPCInfo(){
	name = "Red Bull";
	basetype = BASETYPE_BOSS;
	style = 2;
	head = 0;
	face = 23;
	body = 103;
	npcvoice = 2;
	
	npcstyle = #copyof(getStyle(2)){
		scale = 1.22f;
		status(100, 50, 30, 20, 95);

		clearTech();
		addTech(#TechData(){
			name = "Weak Combo";
			techset = "npc/megaforce2";
			scp[0] = "bull_S_a1";
			damage = 8;
			button = 1;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Strong Combo";
			techset = "npc/megaforce2";
			scp[0] = "bull_S_b1";
			damage = 15;
			button = 2;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Hammer Knuckle ";
			techset = "npc/megaforce2";
			scp[0] = "bull_S_b1c";
			damage = 18;
			button = 2;
			states = STATE_STANDATTACK;
			requires = TEC_CHARGE;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "G Swing";
			techset = "accs/musclebelt";
			scp[0] = "S_X3";
			damage = 28;
			attr = ATTR_HOLD;
			button = 5;
			requires = TEC_SPECIAL3;
			states = STATE_STANDATTACK;
			usevoltage = 30;
			mp = 16;
			ignoreguard = true;
		});
		addTech(#TechData(){
			name = "Six Hold Counter";
			techset = "npc/megaforce2";
			scp[0] = "bull_S_C";
			damage = 8;
			button = 0;
			states = STATE_STANDATTACK;
			requires = TEC_COUNTER;
			attr = ATTR_BEAT;
		});
	};

//-----------------------------------------------
	HP = 100;
	judgment = 3;
	courage = 5;
	reflex = 3;
	guard = 1.0f;

	aitype = AIC_MANAGER;
//	conduct(ConductFirst, #ConductDefine(){
//		set( motionSet(EM_L001));
//	});
	conduct(ConductStart, #ConductDefine(){
		set(motionSetEnd(EM_S007));
	});
	
	conduct(ConductMain, #ConductDefine(){								// 0 基本
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_FRONT;
		guard_sp = GDSP_GC;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, 0));

		branchConduct(3).co(checkDown());									// ＞自分ダウン
		branchConduct(1,0.5).co(attackEnd()).and(checkLeave(2));			// ＞ハンマーナックル
	});
	conduct(ConductMain, #ConductDefine(){								// 1 ハンマーナックル
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		moveArg = #Float(8.0f);
		guard = GD_FRONT;
		guard_sp = GDSP_GC;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(2, STATE_STANDATTACK, TEC_CHARGE));

		branchConduct(3).co(checkDown());									// ＞自分ダウン
		branchConduct(2).co(attackEnd());									// ＞ハンマーナックル後
	});
	conduct(ConductMain, #ConductDefine(){								// 2 ハンマーナックル後
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_FRONT;
		guard_sp = GDSP_GC;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(5, STATE_STANDATTACK, TEC_SPECIAL3));

		branchConduct(3).co(checkDown());									// ＞自分ダウン
		branchConduct(0).co(checkWaitTime(5));								// ＞基本
	});
	conduct(ConductMain, #ConductDefine(){								// 3 自分ダウン後
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_ALLROUND;
		guard_sp = GDSP_C;
		guardArg = #Float(2.0f);
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, 0));

		branchConduct(0).co(checkWaitTime(1));								// ＞基本
	});	
	
	conduct(ConductDead, #ConductDefine(){
		set( waitDeadEnd());
		set(chatSet("Defeat", 2));
	});

//----------------------------------------------------
};

npc[id("MFS", 1)] = #NPCInfo(){
	name = "Jacky Noboru";
	style = 0;
	head = 102;
	face = 65;
	body = 20;
	accs = 6;
	npcvoice = 4;

	npcstyle = #copyof(getStyle(0)){
		scale = 1.00f;
		status(60, 40, 50, 70, 80);

		removeTech(techIndexOf(STATE_STANDATTACK, 0, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, 0, 2));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_FINISH, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_FINISH, 2));
		removeTech(techIndexOf(STATE_DASH, 0, 1));
		removeTech(techIndexOf(STATE_DASH, 0, 2));
		removeTech(techIndexOf(STATE_DASH, TEC_DASHON, 1));
		removeTech(techIndexOf(STATE_FLOW, 0, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_CHARGE, 2));
		removeTech(techIndexOf(STATE_STANDATTACK, 0, 5));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_SPECIAL2, 5));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_SPECIAL3, 5));
//		ローカライズでoverrideするときに技が残ってることがあるため対応するにはclearTech()を利用する

		addTech(#TechData(){
			name = "Weak Combo";
			techset = "npc/challenge";
			scp[0] = "noboru_S_a1";
			scp[1] = "noboru_S_a2";
			scp[2] = "noboru_S_a3";
			combotech = true;
			damage = 10;
			groggydamage = 1;
			button = 1;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Strong Combo";
			techset = "npc/challenge";
			scp[0] = "noboru_S_b1";
			scp[1] = "noboru_S_b2";
			combotech = true;
			damage = 13;
			groggydamage = 1;
			button = 2;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Tornado Fist ";
			techset = "npc/challenge";
			scp[0] = "noboru_S_b1c";
			damage = 15;
			groggydamage = 5;
			button = 2;
			states = STATE_STANDATTACK;
			requires = TEC_CHARGE;
			attr = ATTR_WIND;
		});
		addTech(#TechData(){
			name = "Fiery Flower";
			techset = "accs/firecloth";
			scp[0] = "D_a1";
			damage = 12;
			button = 1;
			states = STATE_DASH;
			attr = ATTR_FIRE;
		});
		addTech(#TechData(){
			name = "Fiery Dragon Fist";
			techset = "npc/challenge";
			scp[0] = "noboru_D_b2";
			damage = 16;
			groggydamage = 7;
			button = 2;
			states = STATE_DASH;
			attr = ATTR_FIRE;
		});
		addTech(#TechData(){
			name = "Fiery Fist";
			techset = "accs/firecloth";
			ctr = "Long Hold Attack";
			scp[0] = "S_b1c";
			damage = 10;
			button = 2;
			states = STATE_STANDATTACK;
			requires = TEC_CHARGE;
			attr = ATTR_FIRE;
		});
		addTech(#TechData(){
			name = "Noboru Kick";
			techset = "npc/challenge";
			scp[0] = "noboru_F_b1";
			damage = 25;
			groggydamage = 5;
			button = 1;
			states = STATE_FLOW;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Fiery Shower of Blossoms";
			techset = "accs/firecloth";
			scp[0] = "S_x1";
			damage = 16;
			button = 5;
			states = STATE_STANDATTACK;
			usevoltage = 15;
			mp = 10;
			attr = ATTR_FIRE;
		});
		addTech(#TechData(){
			name = "Noboru Dance";
			techset = "npc/challenge";
			scp[0] = "noboru_S_x2";
			damage = 15;
			button = 5;
			states = STATE_STANDATTACK;
			requires = TEC_SPECIAL2;
			usevoltage = 30;
			mp = 10;
			attr = ATTR_FIRE;
		});
		addTech(#TechData(){
			name = "Fiery Dance";
			techset = "accs/firecloth";
			scp[0] = "S_x3";
			damage = 26;
			button = 5;
			states = STATE_STANDATTACK;
			requires = TEC_SPECIAL3;
			usevoltage = 80;
			attr = ATTR_BEAT;
		});
	};

//-----------------------------------------------

	HP = 90;
	judgment = 3;
	courage = 4;
	reflex = 3;
	guard = 0.85f;
	
	aitype = AIC_MANAGER;
	conduct(ConductMain, #ConductDefine(){								// 0 間合い遠
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		moveArg = #Float(4.0f);
		guard = GD_FRONT;
		guard_sp = GDSP_GPC;
		guardArg = #Float(1.0f);
		gdr_pg = 0.2;
		gdr_counter = 0.2;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(2, STATE_STANDATTACK, TEC_CHARGE));

		branchConduct(4).co(checkDown());										// ＞ダウン後ジャンプ攻撃
		branchConduct(3).co(attackEnd());										// ＞竜巻拳後
		branchConduct(1).co(checkWaitTime(10));									// ＞長時間攻撃しない場合の対策
	});
	conduct(ConductMain, #ConductDefine(){								// 1 間合い中
		search = SE_NEAR;
		move = MV_APPROACH_DASH;
		guard = GD_FRONT;
		guard_sp = GDSP_GP;
		guardArg = #Float(1.0f);
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_DASH, 0),
						#NPCInfo$TecFilter(2, STATE_DASH, 0));

		branchConduct(4).co(checkDown());										// ＞ダウン後ジャンプ攻撃
		branchConduct(2).co(attackEnd()).and(checkNear(2.0f));					// ＞間合い近
		branchConduct(0).co(attackEnd()).and(checkLeave(3.0f));					// ＞間合い遠
	});
	conduct(ConductMain, #ConductDefine(){								// 2 間合い近
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_FRONT;
		guard_sp = GDSP_GPC;
		guardArg = #Float(1.0f);
		gdr_pg = 0.2;
		gdr_counter = 0.5;
		gdr_pg = 0.2;
		gdr_counter = 0.2;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, 0));

		branchConduct(4).co(checkDown());										// ＞ダウン後ジャンプ攻撃
		branchConduct(0).co(checkLeave(3.0f));									// ＞間合い遠
		branchConduct(1).co(checkLeave(2.0f));									// ＞間合い中
	});
	conduct(ConductMain, #ConductDefine(){								// 3 竜巻拳後
		search = SE_NEAR;
		move = MV_APPROACH_DASH;
		moveArg = #Float(4.0f);
		guard = GD_FRONT;
		guard_sp = GDSP_GP;
		guardArg = #Float(1.0f);
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(2, STATE_DASH, 0));

		branchConduct(4).co(checkDown());										// ＞ダウン後ジャンプ攻撃
		branchConduct(0).co(attackEnd()).and(checkLeave(3.0f));					// ＞間合い遠
		branchConduct(2).co(attackEnd()).and(checkNear(2.0f));					// ＞間合い近
		branchConduct(1).co(attackEnd());										// ＞間合い中
	});
	conduct(ConductMain, #ConductDefine(){								// 4 自分ダウン後（１）
		search = SE_NEAR;
		move = MV_LEAVE_DASH;
		guard = GD_FRONT;
		guard_sp = GDSP_GPC;
		guardArg = #Float(1.0f);
		gdr_pg = 0.2;
		gdr_counter = 0.2;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_FLOW, 0));

		branchConduct(6).co(attackEnd()).and(checkNear(3.0f));					// ＞必殺
		branchConduct(0).co(attackEnd());										// ＞間合い遠
		branchConduct(5).co(checkWaitTime(1));									// ＞自分ダウン後（２）
	});
	conduct(ConductMain, #ConductDefine(){								// 5 自分ダウン後（２）
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		moveArg = #Float(6.0f);
		guard = GD_FRONT;
		guard_sp = GDSP_GPC;
		guardArg = #Float(1.0f);
		gdr_pg = 0.2;
		gdr_counter = 0.2;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_FLOW, 0));

		branchConduct(6).co(attackEnd()).and(checkNear(3.0f));					// ＞必殺
		branchConduct(0).co(attackEnd());										// ＞間合い遠
		branchConduct(1).co(checkWaitTime(10));									// ＞長時間攻撃しない場合の対策
	});
	conduct(ConductMain, #ConductDefine(){								// 6 飛び攻撃後で間合い中・近
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_FRONT;
		guard_sp = GDSP_GPC;
		guardArg = #Float(1.0f);
		gdr_pg = 0.2;
		gdr_counter = 0.2;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(5, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(5, STATE_STANDATTACK, TEC_SPECIAL2),
						#NPCInfo$TecFilter(5, STATE_STANDATTACK, TEC_SPECIAL3));

		branchConduct(4).co(checkDown());										// ＞ダウン後ジャンプ攻撃
		branchConduct(0).co(attackEnd()).and(checkLeave(3.0f));					// ＞間合い遠
		branchConduct(2).co(attackEnd()).and(checkNear(2.0f));					// ＞間合い近
		branchConduct(1).co(attackEnd());										// ＞間合い中
		branchConduct(1).co(checkWaitTime(10));									// ＞長時間攻撃しない場合の対策
	});	
};

npc[id("MFS", 2)] = #NPCInfo(){
	name = "Linda Bobo";
	style = 5;
	head = 1530;	//111;
	face = 249;		//10;
	body = 1536;	//146;
	npcvoice = 8;

	npcstyle = #copyof(getStyle(1)){
		scale = 0.9f;
		status(30, 70, 70, 70, 70);

		clearTech();
		addTech(#TechData(){
			name = "Secret Combo";
			techset = "style/spy";
			scp[0] = "S_a1";
			scp[1] = "S_a1";
			scp[2] = "S_a3";
			scp[3] = "S_A1";
			combotech = true;
			damage = 8;
			button = 1;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Side Step Shooting";
			techset = "npc/megaforce2";
			scp[0] = "linda_S_b1";
			damage = 14;
			button = 2;
			states = STATE_STANDATTACK;
			strrate = 0.0;
			tecrate = 0.6;
			attr = ATTR_SHOT;
		});
		addTech(#TechData(){
			name = "Burst Shooting";
			techset = "npc/megaforce2";
			scp[0] = "linda_S_a1c";
			damage = 14;
			button = 1;
			states = STATE_STANDATTACK;
			requires = TEC_CHARGE;
			strrate = 0.0;
			tecrate = 0.6;
			attr = ATTR_SHOT;
		});
		addTech(#TechData(){
			name = "Vertical Automatic Fire";
			techset = "npc/megaforce2";
			scp[0] = "linda_S_b1c";
			damage = 14;
			button = 2;
			states = STATE_STANDATTACK;
			requires = TEC_CHARGE;
			strrate = 0.0;
			tecrate = 0.6;
			attr = ATTR_SHOT;
		});
		addTech(#TechData(){
			name = "Jump Automatic Fire";
			techset = "npc/megaforce2";
			scp[0] = "linda_F_b1";
			damage = 14;
			button = 2;
			states = STATE_FLOW;
			strrate = 0.0;
			tecrate = 0.6;
			attr = ATTR_SHOT;
		});
		addTech(#TechData(){
			name = "Savate";
			techset = "style/spy";
			scp[0] = "S_C";
			damage = 12;
			button = 0;
			states = STATE_STANDATTACK;
			requires = TEC_COUNTER;
			attr = ATTR_BEAT;
		});
	};

//-----------------------------------------------

	HP = 100;
	judgment = 3;
	courage = 5;
	reflex = 3;
	guard = 0.8f;

	aitype = AIC_MANAGER;
	conduct(ConductMain, #ConductDefine(){								// 0 間合い遠
		search = SE_NEAR;
		move = MV_AMBUSH;
		moveArg = #Float(8.0f);
		guard = GD_ALLROUND;
		guard_sp = GDSP_G;
		guardArg = #Float(1.6f);
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, TEC_CHARGE),
						#NPCInfo$TecFilter(1, STATE_STANDATTACK, TEC_CHARGE),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, TEC_CHARGE));

		branchConduct(4).co(checkDown());									// ＞ダッシュ逃げ
		branchConduct(3).co(attackEnd());									// ＞ダッシュ逃げ
	});
	conduct(ConductMain, #ConductDefine(){								// 1 間合い中
		search = SE_NEAR;
		move = MV_AMBUSH;
		moveArg = #Float(5.0f);
		guard = GD_ALLROUND;
		guard_sp = GDSP_C;
		guardArg = #Float(1.0f);
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(2, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(2, STATE_FLOW, 0));

		branchConduct(4).co(checkDown());									// ＞ダッシュ逃げ
		branchConduct(2).co(attackEnd()).and(checkNear(2.0f));				// ＞間合い近
		branchConduct(0).co(attackEnd()).and(checkLeave(3.0f));				// ＞間合い遠
	});
	conduct(ConductMain, #ConductDefine(){								// 2 間合い近
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_ALLROUND;
		guard_sp = GDSP_C;
		guardArg = #Float(1.4f);
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, 0));

		branchConduct(4).co(checkDown());									// ＞ダッシュ逃げ
		branchConduct(4).co(attackEnd());									// ＞ダッシュ逃げ
	});
	conduct(ConductMain, #ConductDefine(){								// 3 タメ攻撃後のダッシュ逃げ
		search = SE_NEAR;
		move = MV_LEAVE_DASH;
		guard = GD_ALLROUND;
		guard_sp = GDSP_G;
		guardArg = #Float(1.6f);

		branchConduct(4).co(checkDown());									// ＞ダッシュ逃げ
		branchConduct(0).co(checkWaitTime(1)).and(checkLeave(3.0f));		// ＞間合い遠
		branchConduct(1).co(checkWaitTime(1)).and(checkLeave(2.0f));		// ＞間合い中
		branchConduct(2).co(checkWaitTime(1));								// ＞間合い近
	});
	conduct(ConductMain, #ConductDefine(){								// 4 ダッシュ逃げ
		search = SE_NEAR;
		move = MV_LEAVE_DASH;
		guard = GD_ALLROUND;
		guard_sp = GDSP_C;
		guardArg = #Float(1.6f);

		branchConduct(0).co(checkWaitTime(1)).and(checkLeave(3.0f));		// ＞間合い遠
		branchConduct(1).co(checkWaitTime(1)).and(checkLeave(2.0f));		// ＞間合い中
		branchConduct(2).co(checkWaitTime(1));								// ＞間合い近
	});
};

npc[id("MFS", 3)] = #NPCInfo(){
	name = "Mike";
	style = 2;
	head = 153;
	face = 0;
	body = 383;
	npcvoice = 13;

	npcstyle = #copyof(getStyle(2)){
		scale = 1.05f;
		
		clearTech();
		addTech(#TechData(){
			name = "Weak Soldier Combo";
			techset = "style/army";
			scp[0] = "S_a1";
			scp[1] = "S_a2";
			scp[2] = "S_a3";
			scp[3] = "S_A1";
			combotech = true;
			damage = 7;
			button = 1;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Strong Soldier Combo";
			techset = "style/army";
			scp[0] = "S_b1";
			scp[1] = "S_B1";
			combotech = true;
			damage = 10;
			groggydamage = 10;
			button = 2;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Separated Shooting";
			techset = "npc/megaforce2";
			scp[0] = "mike_S_a1c";
			damage = 18;
			button = 2;
			states = STATE_STANDATTACK;
			requires = TEC_FINISH;
			attr = ATTR_SHOT;
		});
		addTech(#TechData(){
			name = "Short Range Shooting";
			techset = "npc/megaforce2";
			scp[0] = "mike_S_b1";
			damage = 14;
			button = 1;
			states = STATE_STANDATTACK;
			requires = TEC_CHARGE;
			attr = ATTR_SHOT;
		});
		addTech(#TechData(){
			name = "Long Range Shooting";
			techset = "npc/megaforce2";
			scp[0] = "mike_S_b1c";
			damage = 18;
			button = 2;
			states = STATE_STANDATTACK;
			requires = TEC_CHARGE;
			attr = ATTR_SHOT;
		});
		addTech(#TechData(){
			name = "Head Spin";
			techset = "npc/megaforce2";
			scp[0] = "mike_D_b1";
			damage = 15;
			button = 2;
			states = STATE_DASH;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Charge Laser";
			techset = "npc/megaforce2";
			scp[0] = "mike_S_x2";
			damage = 20;
			button = 5;
			states = STATE_STANDATTACK;
			requires = TEC_SPECIAL3;
			usevoltage = 30;
			mp = 20;
			strrate = 0;
			tecrate = 0.3;
			attr = ATTR_NO;
		});	
	};

//-----------------------------------------------
	npcstyle.status(60, 80, 40, 40, 80);

	HP = 100;
	judgment = 3;
	courage = 5;
	reflex = 3;
	guard = 0.8f;
	
	aitype = AIC_MANAGER;
	conduct(ConductMain, #ConductDefine(){								// 0 間合い遠
		search = SE_NEAR;
		move = MV_AMBUSH;
		moveArg = #Float(10.0f);
		guard = GD_FRONT;
		guard_sp = GDSP_P;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(2, STATE_STANDATTACK, TEC_CHARGE));

		branchConduct(4).co(checkDown());									// ＞自分ダウン
		branchConduct(2).co(attackEnd()).and(checkNear(2.0f));				// ＞間合い近
		branchConduct(1).co(attackEnd()).and(checkNear(3.0f));				// ＞間合い中
		branchConduct(7,0.5).co(checkWaitTime(3));							// ＞ダッシュ
		branchConduct(0).co(checkWaitTime(3));								// ＞リセット
	});
	conduct(ConductMain, #ConductDefine(){								// 1 間合い中
		search = SE_NEAR;
		move = MV_AMBUSH;
		moveArg = #Float(10.0f);
		guard = GD_FRONT;
		guard_sp = GDSP_P;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, TEC_CHARGE));

		branchConduct(4).co(checkDown());									// ＞自分ダウン
		branchConduct(2).co(attackEnd()).and(checkNear(2.0f));				// ＞間合い近
		branchConduct(0).co(attackEnd()).and(checkLeave(3.0f));				// ＞間合い遠
	});
	conduct(ConductMain, #ConductDefine(){								// 2 間合い近
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_FRONT;
		guard_sp = GDSP_P;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, 0));

		branchConduct(4).co(checkDown());									// ＞自分ダウン
		branchConduct(5).co(checkDownTarget()).and(checkHP(0.5f));			// ＞必殺
		branchConduct(3).co(attackEnd());									// ＞立ち攻撃後
		branchConduct(3).co(checkWaitTime(10));								// ＞強制的に立ち攻撃後に以降	
	});
	conduct(ConductMain, #ConductDefine(){								// 3 立ち攻撃後
		search = SE_NEAR;
		move = MV_AMBUSH;
		moveArg = #Float(10.0f);
		guard = GD_FRONT;
		guard_sp = GDSP_P;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(2, STATE_STANDATTACK, TEC_FINISH));

		branchConduct(4).co(checkDown());									// ＞自分ダウン
		branchConduct(0).co(attackEnd()).and(checkLeave(3.0f));				// ＞間合い遠
		branchConduct(1).co(attackEnd()).and(checkLeave(2.0f));				// ＞間合い中
		branchConduct(2).co(attackEnd());									// ＞間合い近
	});
	conduct(ConductMain, #ConductDefine(){								// 4 自分ダウン後
		search = SE_NEAR;
		move = MV_LEAVE_DASH;
		guard = GD_FRONT;
		guard_sp = GDSP_P;

		branchConduct(0).co(checkWaitTime(1)).and(checkLeave(3.0f));		// ＞間合い遠
		branchConduct(1).co(checkWaitTime(1)).and(checkLeave(2.0f));		// ＞間合い中
		branchConduct(2).co(checkWaitTime(1));								// ＞間合い近
	});
	conduct(ConductMain, #ConductDefine(){								// 5 ＨＰ半減後、相手ダウン
		last_half = true;
		search = SE_NEAR;
		move = MV_LEAVE_DASH;
		guard = GD_FRONT;
		guard_sp = GDSP_P;

		branchConduct(6).co(checkWaitTime(1));								// ＞必殺
	});
	conduct(ConductMain, #ConductDefine(){								// 6 必殺
		search = SE_NEAR;
		move = MV_AMBUSH;
		moveArg = #Float(10.0f);
		guard = GD_FRONT;
		guard_sp = GDSP_P;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(5, STATE_STANDATTACK, TEC_SPECIAL3));

		branchConduct(4).co(checkDown());									// ＞自分ダウン
		branchConduct(0).co(attackEnd()).and(checkLeave(3.0f));				// ＞間合い遠
		branchConduct(1).co(attackEnd()).and(checkLeave(2.0f));				// ＞間合い中
		branchConduct(2).co(attackEnd());									// ＞間合い近
	});
	conduct(ConductMain, #ConductDefine(){								// 7 間合い遠、一定確率
		search = SE_NEAR;
		move = MV_APPROACH_DASH;
		moveArg = #Float(5.0f);
		guard = GD_FRONT;
		guard_sp = GDSP_P;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(2, STATE_DASH, 0));

		branchConduct(4).co(checkDown());									// ＞自分ダウン
		branchConduct(2).co(attackEnd()).and(checkNear(2.0f));				// ＞間合い近
		branchConduct(1).co(attackEnd()).and(checkNear(3.0f));				// ＞間合い中
		branchConduct(0).co(attackEnd());									// ＞間合い遠
	});
};

npc[id("MFS", 4)] = #NPCInfo(){
	name = "Fabicro";
	basetype = BASETYPE_BOSS;
	style = 6;
	head = 134;
	face = 45;
	body = 163;
	npcvoice = 7;

	npcstyle = #copyof(getStyle(6)){
		scale = 1.1f;
		status(80, 20, 40, 30, 100);

		clearTech();
		addTech(#TechData(){
			name = "Swing";
			techset = "npc/megaforce2";
			scp[0] = "fabi_S_a1";
			scp[1] = "fabi_S_A1";
			combotech = true;
			damage = 15;
			groggydamage = 2;
			button = 1;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Aura Punch";
			techset = "npc/megaforce2";
			scp[0] = "fabi_S_b1";
			damage = 20;
			groggydamage = 2;
			button = 2;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Ice Rock";
			techset = "npc/megaforce2";
			scp[0] = "fabi_S_a1c";
			damage = 20;
			button = 1;
			states = STATE_STANDATTACK;
			requires = TEC_CHARGE;
			attr = ATTR_ICE;
		});
		addTech(#TechData(){
			name = "Glide";
			techset = "npc/megaforce2";
			scp[0] = "fabi_F_a1";
			damage = 25;
			button = 2;
			states = STATE_STANDATTACK;
			requires = TEC_CHARGE;
			attr = ATTR_FIRE;
		});
		addTech(#TechData(){
			name = "Absolute Zero";
			techset = "npc/megaforce2";
			scp[0] = "fabi_S_x1";
			damage = 30;
			button = 5;
			states = STATE_STANDATTACK;
			usevoltage = 15;
			mp = 10;
			attr = ATTR_ICE;
		});
		addTech(#TechData(){
			name = "Ice Dust";
			techset = "npc/megaforce2";
			scp[0] = "fabi_S_x2";
			damage = 30;
			button = 5;
			states = STATE_STANDATTACK;
			requires = TEC_SPECIAL3;
			usevoltage = 30;
			mp = 20;
			attr = ATTR_ICE;
		});
		addTech(#TechData(){
			name = "Barrier Field";
			techset = "accs/beamshield";
			scp[0] = "guard1";
			damage = 13;
			button = 0;
			states = STATE_STANDATTACK;
			requires = TEC_COUNTER;
			attr = ATTR_NO;
		});
	};

	HP = 100;
//	thinktime = 3;
	judgment = 3;
	courage = 5;
	reflex =3;
	guard = 1.0;
	
	aitype = AIC_MANAGER;
	// ▽HP半減前▽
	conduct(ConductMain, #ConductDefine(){								// 0 間合い遠
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		moveArg = #Float(8.0f);
		guard = GD_FRONT;
		guard_sp = GDSP_GC;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(2, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(1, STATE_STANDATTACK, TEC_CHARGE));

		branchConduct(3).co(checkHP(0.5f));									// ＞HP半減モード
		branchConduct(1).co(attackEnd()).and(checkNear(3.0f));				// ＞間合い中・近
	});
	conduct(ConductMain, #ConductDefine(){								// 1 間合い中・近
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_FRONT;
		guard_sp = GDSP_GC;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, 0));

		branchConduct(3).co(checkHP(0.5f));									// ＞HP半減モード
		branchConduct(0).co(checkLeave(3.0f));								// ＞間合い遠
		branchConduct(2).co(checkWaitTime(10));								// ＞必殺
	});
	conduct(ConductMain, #ConductDefine(){								// 2 必殺
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		moveArg = #Float(10.0f);
		guard = GD_ALLROUND;
		guard_sp = GDSP_GC;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(5, STATE_STANDATTACK, TEC_SPECIAL3));

		branchConduct(3).co(checkHP(0.5f));									// ＞HP半減モード
		branchConduct(0).co(attackEnd()).and(checkLeave(3.0f));				// ＞間合い遠
		branchConduct(1).co(attackEnd());									// ＞間合い中・近
		branchConduct(0).co(checkWaitTime(3)).and(checkLeave(3.0f));		// ＞間合い遠
		branchConduct(1).co(checkWaitTime(3));								// ＞間合い中・近
	});
	
	// ▽HP半減後▽
	conduct(ConductMain, #ConductDefine(){								// 3 間合い遠
		last_half = true;
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		moveArg = #Float(8.0f);
		guard = GD_FRONT;
		guard_sp = GDSP_G;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, TEC_CHARGE),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, TEC_CHARGE),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, TEC_CHARGE));

		branchConduct(4).co(attackEnd()).and(checkNear(3.0f));				// ＞間合い中・近
	});
	conduct(ConductMain, #ConductDefine(){								// 4 間合い中・近
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_FRONT;
		guard_sp = GDSP_G;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(5, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, TEC_CHARGE));

		branchConduct(3).co(checkLeave(3.0f));								// ＞間合い遠
		branchConduct(5).co(checkWaitTime(10));								// ＞必殺
	});
	conduct(ConductMain, #ConductDefine(){								// 5 必殺
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		moveArg = #Float(10.0f);
		guard = GD_ALLROUND;
		guard_sp = GDSP_G;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(2, STATE_STANDATTACK, TEC_CHARGE));

		branchConduct(3).co(attackEnd()).and(checkLeave(3.0f));				// ＞間合い遠
		branchConduct(4).co(attackEnd());									// ＞間合い中・近
		branchConduct(3).co(checkWaitTime(3)).and(checkLeave(3.0f));		// ＞間合い遠
		branchConduct(4).co(checkWaitTime(3));								// ＞間合い中・近
	});
};

npc[id("MFS", 5)] = #NPCInfo(){
	name = "Bafabon";
	basetype = BASETYPE_DEKA;
	style = 0;
	head = 125;
	face = 29;
	body = 272;
	deco = 55;
	npcvoice = 14;

	npcstyle = #copyof(getStyle(0)){
		scale = 1.07f;
		status(70, 40, 50, 40, 130);

		clearTech();
		addTech(#TechData(){
			name = "Fast Slap";
			techset = "npc/megaforce2";
			scp[0] = "bafa_S_a1";
			damage = 5;
			button = 1;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Shine Slicer";
			techset = "item/onidance";
			scp[0] = "S_a1";
			damage = 10;
			button = 2;
			states = STATE_STANDATTACK;
			requires = TEC_CHARGE;
			strrate = 0.5;
			tecrate = 0.5;
			attr = ATTR_NO;
		});
		addTech(#TechData(){
			name = "Fighter's Sliding";
			techset = "npc/megaforce2";
			scp[0] = "bafa_D_a1";
			damage = 25;
			button = 1;
			states = STATE_DASH;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Rolling Stab";
			techset = "npc/megaforce2";
			scp[0] = "bafa_D_b1";
			damage = 12;
			button = 2;
			states = STATE_DASH;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Hero's Bravery";
			techset = "npc/megaforce2";
			scp[0] = "bafa_S_x1";
			damage = 30;
			button = 5;
			states = STATE_STANDATTACK;
			usevoltage = 15;
			mp = 10;
			attr = ATTR_NO;
		});
		addTech(#TechData(){
			name = "Legendary Bravery";
			techset = "npc/megaforce2";
			scp[0] = "bafa_S_x2";
			damage = 40;
			button = 5;
			states = STATE_STANDATTACK;
			requires = TEC_SPECIAL3;
			usevoltage = 30;
			mp = 20;
			attr = ATTR_NO;
		});
	};

//-----------------------------------------------

	HP = 100;
	judgment = 5;
	courage = 3;
	reflex = 5;
	guard = 1.2f;

	aitype = AIC_MANAGER;
	conduct(ConductMain, #ConductDefine(){								// 1 間合い遠、中
		search = SE_NEAR;
		move = MV_ABOUT_DASH;
		moveArg = #Float(5.0f);
		guard = GD_ALLROUND;
		guard_sp = GDSP_PC;
		gdr_counter = 0.3f;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_DASH, 0),
						#NPCInfo$TecFilter(2, STATE_DASH, 0));

		branchConduct(3).co(checkDown());									// ＞自分ダウン逃げ
		branchConduct(2).co(attackEnd()).and(checkNear(2.0f));				// ＞間合い近
		branchConduct(1,0.5).co(attackEnd()).and(checkHP(0.5f));			// ＞間合い遠、中（オニダンス）
	});
	conduct(ConductMain, #ConductDefine(){								// 1 間合い遠、中（オニダンス）
		last_half = true;
		search = SE_NEAR;
		move = MV_ABOUT_WALK;
		moveArg = #Float(8.0f);
		guard = GD_ALLROUND;
		guard_sp = GDSP_PC;
		gdr_counter = 0.3f;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(2, STATE_STANDATTACK, TEC_CHARGE));

		branchConduct(3).co(checkDown());									// ＞自分ダウン逃げ
		branchConduct(2).co(attackEnd()).and(checkNear(2.0f));				// ＞間合い近
		branchConduct(0).co(attackEnd());									// ＞間合い遠・中
	});
	conduct(ConductMain, #ConductDefine(){								// 2 間合い近
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_ALLROUND;
		guard_sp = GDSP_PC;
		gdr_counter = 0.3f;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, 0));

		branchConduct(3).co(checkDown());									// ＞自分ダウン逃げ
		branchConduct(1,0.5).co(checkLeave(2.0f)).and(checkHP(0.5f));		// ＞間合い遠、中（オニダンス）
		branchConduct(0    ).co(checkLeave(2.0f));							// ＞間合い遠、中
	});
	conduct(ConductMain, #ConductDefine(){								// 3 自分ダウン後
		search = SE_NEAR;
		move = MV_LEAVE_DASH;
		guard = GD_ALLROUND;
		guard_sp = GDSP_C;
		guardArg = #Float(2.0f);
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_DASH, 0),
						#NPCInfo$TecFilter(2, STATE_DASH, 0));

		branchConduct(5).co(checkWaitTime(1)).and(checkHP(0.5f));			// ＞必殺３
		branchConduct(4).co(checkWaitTime(1));								// ＞必殺１
	});
	conduct(ConductMain, #ConductDefine(){								// 4 必殺１
		search = SE_NEAR;
		move = MV_AMBUSH;
		moveArg = #Float(7.0f);
		guard = GD_ALLROUND;
		guard_sp = GDSP_PC;
		gdr_counter = 0.3f;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(5, STATE_STANDATTACK, 0));

		branchConduct(2).co(attackEnd()).and(checkNear(2.0f));				// ＞間合い近
		branchConduct(1,0.5).co(attackEnd()).and(checkHP(0.5f));			// ＞間合い遠、中（オニダンス）
		branchConduct(0,0.5).co(attackEnd());								// ＞間合い遠、中
	});
	conduct(ConductMain, #ConductDefine(){								//5 必殺２
		search = SE_NEAR;
		move = MV_AMBUSH;
		moveArg = #Float(7.0f);
		guard = GD_ALLROUND;
		guard_sp = GDSP_PC;
		gdr_counter = 0.3f;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(5, STATE_STANDATTACK, TEC_SPECIAL3));

		branchConduct(2).co(attackEnd()).and(checkNear(2.0f));				// ＞間合い近
		branchConduct(1,0.5).co(attackEnd()).and(checkHP(0.5f));			// ＞間合い遠、中（オニダンス）
		branchConduct(0,0.5).co(attackEnd());								// ＞間合い遠、中
	});
};

npc[id("MFS", 6)] = #NPCInfo(){
	name = "Right Yaemon";
	basetype = BASETYPE_DEKA;
	style = 2;
	head = 271;
	face = 33;
	body = 31;
	deco = 21;
	npcvoice = 116;
};


///////////////////////////////////////////////////////
//	メガフォース戦闘員
///////////////////////////////////////////////////////

npc[id("MF", 0)] = #NPCInfo(){
	name = "Sparks";
	style = 4;
	head = 1490;	//309;
	face = 245;		//66;
	body = 1503;	//153;
	npcvoice = 6;
	
	judgment = 3;
	courage = 3;
	reflex = 3;

	npcstyle = #copyof(getStyle(4)){
		scale = 0.937f;
		status(45, 50, 40, 30, 51);

		removeTech(techIndexOf(STATE_STANDATTACK, 0, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, 0, 2));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_FINISH, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_FINISH, 2));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_CHARGE, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_CHARGE, 2));

		addTech(#TechData(){
			name = "Secret Combo";
			techset = "style/spy";
			scp[0] = "S_a1";
			scp[1] = "S_a1";
			scp[2] = "S_a3";
			scp[3] = "S_A1";
			combotech = true;
			damage = 8;
			button = 1;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Left Kick Combo";
			techset = "accs/taekwondo_s";
			scp[0] = "S_b1";
			scp[1] = "S_b2";
			scp[2] = "S_B1";
			combotech = true;
			damage = 9;
			groggydamage = 10;
			button = 2;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Cartwheel";
			techset = "npc/megaforce1";
			scp[0] = "spa_S_a1c";
			damage = 5;
			button = 1;
			states = STATE_STANDATTACK;
			requires = TEC_CHARGE;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Slap";
			techset = "npc/megaforce1";
			scp[0] = "spa_S_b1c";
			damage = 20;
			button = 2;
			states = STATE_STANDATTACK;
			requires = TEC_CHARGE;
			attr = ATTR_BEAT;
		});
	};
	
//-----------------------------------------------
	guard = 0.8f;
	
	HP = 50;
	
	aitype = AIC_MANAGER;
//	conduct(ConductFirst, #ConductDefine(){
//		set( motionSet(EM_L001));
//	});
	conduct(ConductStart, #ConductDefine(){
		set(motionSetEnd(EM_S007));
	});
	
	
	conduct(ConductMain, #ConductDefine(){								// 0 間合い遠（１）
		search = SE_NEAR;
		move = MV_LEAVE_DASH;
		guard = GD_ALLROUND;
		guard_sp = GDSP_GC;
		gdr_counter = 0.2;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_DASH, 0),
						#NPCInfo$TecFilter(2, STATE_DASH, 0),
						#NPCInfo$TecFilter(1, STATE_DASH, TEC_DASHON),
						#NPCInfo$TecFilter(1, STATE_FLOW, 0),
						#NPCInfo$TecFilter(2, STATE_FLOW, 0),
						#NPCInfo$TecFilter(1, STATE_FLOW, TEC_FINISH));

		branchConduct(0).co(checkDown());									// ＞自分ダウン逃げ
		branchConduct(2).co(checkWaitTime(2)).and(checkNear(2.0f));			// ＞間合い近
		branchConduct(1).co(checkWaitTime(3));								// ＞間合い遠（２）
	});
	conduct(ConductMain, #ConductDefine(){								// 1 間合い遠（２）
		search = SE_NEAR;
		move = MV_ABOUT_DASH;
		moveArg = #Float(5.0f);
		guard = GD_ALLROUND;
		guard_sp = GDSP_GC;
		gdr_counter = 0.2;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_DASH, 0),
						#NPCInfo$TecFilter(2, STATE_DASH, 0),
						#NPCInfo$TecFilter(1, STATE_DASH, TEC_DASHON),
						#NPCInfo$TecFilter(1, STATE_FLOW, 0),
						#NPCInfo$TecFilter(2, STATE_FLOW, 0),
						#NPCInfo$TecFilter(1, STATE_FLOW, TEC_FINISH));

		branchConduct(0).co(checkDown());									// ＞自分ダウン逃げ
		branchConduct(2).co(checkNear(2.0f));								// ＞間合い近
		branchConduct(0).co(checkWaitTime(1));								// ＞間合い遠（１）
	});
	conduct(ConductMain, #ConductDefine(){								// 2 間合い近
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_FRONT;
		guard_sp = GDSP_GC;
		gdr_counter = 0.2;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, TEC_CHARGE));

		branchConduct(0).co(checkDown());									// ＞自分ダウン逃げ
		branchConduct(4).co(attackEnd()).and(checkHP(0.5f));				// ＞側転後、ＨＰ半減後
		branchConduct(3).co(attackEnd());									// ＞側転後
	});
	conduct(ConductMain, #ConductDefine(){								// 3 側転後、間合い近
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_FRONT;
		guard_sp = GDSP_C;
		guardArg = #Float(2.0f);
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(1, STATE_FLOW, 0),
						#NPCInfo$TecFilter(2, STATE_FLOW, 0),
						#NPCInfo$TecFilter(1, STATE_FLOW, TEC_FINISH));

		branchConduct(0).co(checkDown());									// ＞自分ダウン逃げ
		branchConduct(0).co(checkLeave(3));									// ＞間合い遠・中
		branchConduct(0).co(attackEnd());									// ＞間合い遠・中
	});
	conduct(ConductMain, #ConductDefine(){								// 4 側転後、ＨＰ半減後
		last_half = true;
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_FRONT;
		guard_sp = GDSP_C;
		guardArg = #Float(2.0f);
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(2, STATE_STANDATTACK, TEC_CHARGE));

		branchConduct(0).co(checkDown());									// ＞自分ダウン逃げ
		branchConduct(0).co(checkLeave(2.0f));								// ＞間合い遠・中
		branchConduct(0).co(attackEnd());									// ＞間合い遠・中
	});

	conduct(ConductDead, #ConductDefine(){
		set( waitDeadEnd());
		pack(chatSet("You remember this!", 2, 1038));
	});

//----------------------------------------------------
	message(ADVENT,	0, "OK, let's do it.");
	message(DEAD,	0, "Impossible!");
	message(WIN,	0, "Yeah, let's clean up quickly!");
	message(P_NICE,	0, "Oh, you did pretty well. I won't lose either!");
	message(T_NICE,	0, "Ok, let's knock them out!");
	message(T_BAD,	0, "It's getting dangerous!");
	message(E_ESC,	0, "Let it be and let's focus on what's ahead!");
	message(DAMAGE,	0, "Ouch! It's painful!");
	message(PINCH,	0, "Ouch! I'm almost done for!");
	message(KIRE,	0, "Ooh, I am so mad!");

//----------------------------------------------------
};

npc[id("MF", 1)] = #NPCInfo(){
	name = "Hood George";
	style = 9;
	head = 295;
	face = 18;
	body = 125;
	deco = 25;
	accs = 1;
	npcvoice = 104;
	
	judgment = 3;
	courage = 3;
	reflex = 3;
	
	npcstyle = #copyof(getStyle(8)){
		scale = 1.07f;
		status(58, 50, 42, 53, 70);

		removeTech(techIndexOf(STATE_STANDATTACK, 0, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, 0, 2));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_FINISH, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_FINISH, 2));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_CHARGE, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_CHARGE, 2));
		removeTech(techIndexOf(STATE_DASH, 0, 2));

		addTech(#TechData(){
			name = "Head-butt Combo";
			techset = "npc/megaforce1";
			scp[0] = "food_S_a1";
			damage = 9;
			groggydamage = 3;
			button = 1;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Grab Head";
			techset = "npc/megaforce1";
			scp[0] = "food_S_b1";
			damage = 12;
			groggydamage = 10;
			button = 2;
			states = STATE_STANDATTACK;
			attr = ATTR_HOLD;
			ignoreguard = true;
		});
		addTech(#TechData(){
			name = "Hood Straight";
			techset = "npc/megaforce1";
			scp[0] = "food_S_a1c";
			damage = 17;
			button = 1;
			states = STATE_STANDATTACK;
			requires = TEC_CHARGE;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Hood Rush";
			techset = "npc/megaforce1";
			scp[0] = "food_S_b1c";
			damage = 10;
			groggydamage = 2;
			button = 2;
			states = STATE_STANDATTACK;
			requires = TEC_CHARGE;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Drop Kick";
			techset = "accs/musclebelt";
			scp[0] = "D_b1";
			damage = 10;
			button = 2;
			states = STATE_DASH;
			attr = ATTR_BEAT;
		});
	};
	
//-----------------------------------------------
	guard = 0.8f;

	HP = 65;

	aitype = AIC_MANAGER;
	conduct(ConductStart, #ConductDefine(){
		set(motionSetEnd(EM_S007));
	});
	
	// ▽ＨＰ半減前▽
	conduct(ConductMain, #ConductDefine(){								// 0 基本
		search = SE_NEAR;
		move = MV_ABOUT_WALK;
		moveArg = #Float(5.0f);
		guard = GD_FRONT;
		guard_sp = GDSP_GP;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, TEC_CHARGE),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, TEC_CHARGE));

		branchConduct(1).co(checkDown());									// ＞自分ダウン
		branchConduct(3).co(checkHP(0.5f));									// ＞ＨＰ半減
	});
	conduct(ConductMain, #ConductDefine(){								// 1 自分ダウン
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_ALLROUND;
		guard_sp = GDSP_P;
		guardArg = #Float(2.0f);
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, TEC_CHARGE),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, TEC_CHARGE));

		branchConduct(3).co(checkHP(0.5f));									// ＞ＨＰ半減
		branchConduct(0).co(checkWaitTime(2));								// ＞基本
	});

	// ▽ＨＰ半減後▽
	conduct(ConductMain, #ConductDefine(){								// 2 間合い遠
		last_half = true;
		search = SE_NEAR;
		move = MV_APPROACH_DASH;
		moveArg = #Float(4.0f);
		guard = GD_FRONT;
		guard_sp = GDSP_C;
		guardArg = #Float(0.4f);
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_DASH, 0),
						#NPCInfo$TecFilter(2, STATE_DASH, 0),
						#NPCInfo$TecFilter(1, STATE_DASH, TEC_DASHON),
						#NPCInfo$TecFilter(1, STATE_FLOW, 0),
						#NPCInfo$TecFilter(2, STATE_FLOW, 0),
						#NPCInfo$TecFilter(1, STATE_FLOW, TEC_FINISH));

		branchConduct(4).co(checkDown());									// ＞自分ダウン
		branchConduct(3).co(attackEnd()).and(checkNear(3.0f));				// ＞間合い中
	});
	conduct(ConductMain, #ConductDefine(){								// 3 間合い中・近
		last_half = true;
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_FRONT;
		guard_sp = GDSP_C;
		guardArg = #Float(0.4f);
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, 0));

		branchConduct(4).co(checkDown());									// ＞自分ダウン
		branchConduct(2).co(checkLeave(3.0f));								// ＞間合い遠
	});
	conduct(ConductMain, #ConductDefine(){								// 4 自分ダウン
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_FRONT;
		guard_sp = GDSP_C;
		guardArg = #Float(0.4f);
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(5, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(5, STATE_STANDATTACK, TEC_SPECIAL3));

		branchConduct(2).co(attackEnd()).and(checkLeave(3.0f));				// ＞間合い遠
		branchConduct(3).co(attackEnd());									// ＞間合い近
	});
	
	conduct(ConductDead, #ConductDefine(){
		set( waitDeadEnd());
		pack(chatSet("I'll beat you up next time!", 2, 1038));
	});

//----------------------------------------------------
	message(ADVENT,	0, "Watch the opponent. Stay sharp.");
	message(DEAD,	0, "Oh no... Remember this!");
	message(WIN,	0, "Mission completed. Good job!");
	message(P_NICE,	0, "Good, Keep going!");
	message(T_NICE,	0, "Oh, yes! Keep moving!");
	message(T_BAD,	0, "Are we losing ground?!");
	message(E_ESC,	0, "Focus on the enemy at hand!");
	message(DAMAGE,	0, "Gyaa!");
	message(PINCH,	0, "Ugh, you...! That hurts...");
	message(KIRE,	0, "Hey, I'll give you a good beating!");

//----------------------------------------------------
};

npc[id("MF", 2)] = #NPCInfo(){
	name = "Yashako";
	style = 4;
	head = 1510;	//143;
	face = 247;		//3;
	body = 1513;	//83;
	npcvoice = 12;
	
	judgment = 3;
	courage = 3;
	reflex = 3;
	
	npcstyle = #copyof(getStyle(4)){
		scale = 0.88f;
		status(39, 50, 63, 52, 50);
	};
	setTecFilter(1, -1, 0);
	addTecFilter(2, -1, 0);
	
	
//-----------------------------------------------
	guard = 0.8f;
	
	HP = 40;

	aitype = AIC_MANAGER;
//	conduct(ConductFirst, #ConductDefine(){
//		set( motionSet(EM_L001));
//	});
	conduct(ConductStart, #ConductDefine(){
		set(motionSetEnd(EM_S007));
	});
	conduct(ConductMain, #ConductDefine(){
		search = SE_NEAR;
		move = MV_ABOUT_WALK;
		attack = AT_SPOT;
		guard = GD_FRONT;

		branchConduct(1).co(checkHP(0.5f));
	});
	conduct(ConductMain, #ConductDefine(){	//逃げ行動
		search = SE_NEAR;
		move = MV_LEAVE_DASH;
		guard = GD_ALLROUND;
		guardArg = #Float(1.0f);
		attack = AT_FIT;
	});
	conduct(ConductDead, #ConductDefine(){
		set( waitDeadEnd());
		pack(chatSet("How come we can win like that?", 2, 1038));
	});

//----------------------------------------------------
	message(ADVENT,	0, "I'm telling you, don't expect much, ok?");
	message(DEAD,	0, "There's most definitely some cheating going on here!");
	message(WIN,	0, "Ahahaha, I finally won!");
	message(P_NICE,	0, "Hmm...you did pretty well.");
	message(T_NICE,	0, "Hope you keep winning!");
	message(T_BAD,	0, "Wait, do something!");
	message(E_ESC,	0, "No, they ran away!");
	message(DAMAGE,	0, "They were picking on me because I'm weak!");
	message(PINCH,	0, "Please, someone help me!");

//----------------------------------------------------
};

npc[id("MF", 3)] = #NPCInfo(){
	name = "Big Gen";
	basetype = BASETYPE_DEKA;
	style = 2;
	head = 260;
	face = 32;
	body = 292;
	deco = 51;
	npcvoice = 101;
	
	judgment = 3;
	courage = 3;
	reflex = 3;
	
	HP = 80;
	
	npcstyle = #copyof(getStyle(2)){
		scale = 1.2f;
		status(76, 50, 10, 10, 80);


		removeTech(techIndexOf(STATE_STANDATTACK, 0, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, 0, 2));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_FINISH, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_FINISH, 2));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_CHARGE, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_CHARGE, 2));
		removeTech(techIndexOf(STATE_FLOW, 0, 2));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_SPECIAL3, 5));

		addTech(#TechData(){
			name = "Weak Soldier Combo";
			techset = "style/army";
			scp[0] = "S_a1";
			scp[1] = "S_a2";
			scp[2] = "S_a3";
			scp[3] = "S_A1";
			combotech = true;
			damage = 7;
			button = 1;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Strong Soldier Combo";
			techset = "style/army";
			scp[0] = "S_b1";
			scp[1] = "S_B1";
			combotech = true;
			damage = 10;
			groggydamage = 10;
			button = 2;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Hammer Shake";
			techset = "item/hammer";
			scp[0] = "S_a1";
			damage = 15;
			button = 1;
			states = STATE_STANDATTACK;
			requires = TEC_CHARGE;
			strrate = 0.8;
			tecrate = 0.1;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Double Lariat";
			techset = "accs/musclebelt";
			scp[0] = "S_b1c";
			damage = 12;
			button = 2;
			states = STATE_STANDATTACK;
			requires = TEC_CHARGE;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Body Press";
			techset = "npc/megaforce1";
			scp[0] = "big_F_b1";
			damage = 13;
			groggydamage = 10;
			button = 2;
			states = STATE_FLOW;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "G Swing";
			techset = "accs/musclebelt";
			scp[0] = "S_X3";
			damage = 28;
			attr = ATTR_HOLD;
			button = 5;
			requires = TEC_SPECIAL3;
			states = STATE_STANDATTACK;
			usevoltage = 30;
			mp = 16;
			ignoreguard = true;
		});
	};
	guard = 0.7f;

//-----------------------------------------------

	aitype = AIC_MANAGER;
//	conduct(ConductFirst, #ConductDefine(){
//		set( motionSet(EM_L001));
//	});
	conduct(ConductStart, #ConductDefine(){
		set(motionSetEnd(EM_S007));
	});
	
	conduct(ConductMain, #ConductDefine(){								// 0 間合い遠・中
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		moveArg = #Float(5.0f);
		guard = GD_FRONT;
		guard_sp = GDSP_GP;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, TEC_CHARGE),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, TEC_CHARGE),
						#NPCInfo$TecFilter(2, STATE_DASH, 0));

		branchConduct(2).co(checkDown());									// ＞自分ダウン
		branchConduct(1).co(attackEnd()).and(checkNear(2.0f));				// ＞間合い近
	});
	conduct(ConductMain, #ConductDefine(){								// 1 間合い近
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_FRONT;
		guard_sp = GDSP_GP;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, 0));

		branchConduct(2).co(checkDown());									// ＞自分ダウン
		branchConduct(0).co(checkLeave(3.0f));								// ＞間合い遠
	});
	conduct(ConductMain, #ConductDefine(){								// 2 自分ダウン
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_ALLROUND;
		guard_sp = GDSP_G;
		guardArg = #Float(2.0f);
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(5, STATE_STANDATTACK, TEC_SPECIAL3));

		branchConduct(0).co(checkWaitTime(3)).and(checkLeave(2.0f));		// ＞間合い遠・中
		branchConduct(1).co(checkWaitTime(3));								// ＞間合い近
	});	
	
	conduct(ConductDead, #ConductDefine(){
		set( waitDeadEnd());
		pack(chatSet("Sorry, everyone. The rest is up to you... ", 2, 1038));
	});

//----------------------------------------------------
	message(ADVENT,	0, "Let's get started!! Let's fight!");
	message(DEAD,	0, "Sorry, everyone. The rest is up to you...");
	message(WIN,	0, "You did it!");
	message(P_NICE,	0, "Well done!");
	message(T_NICE,	0, "I'm glad to be around such good fighters!");
	message(T_BAD,	0, "Stay strong! This is important!");
	message(E_ESC,	0, "The enemies managed to get away...");
	message(DAMAGE,	0, "Ugh...");
	message(PINCH,	0, "They're st...strong, but we'll fight to the end!");

//----------------------------------------------------
};

npc[id("MF", 4)] = #NPCInfo(){
	name = "Guts";
	style = 0;
	head = 331;
	face = 32;
	body = 21;
	npcvoice = 122;
	
	judgment = 3;
	courage = 3;
	reflex = 3;
	
	HP = 55;
	npcstyle = #copyof(getStyle(6)){
		scale = 1.06f;
		status(55, 50, 55, 55, 70);
	};
	guard = 0.6f;
	
	setTecFilter(1, -1, 0);
	addTecFilter(2, -1, 0);

//-----------------------------------------------

	aitype = AIC_MANAGER;
//	conduct(ConductFirst, #ConductDefine(){
//		set( motionSet(EM_L001));
//	});
	conduct(ConductStart, #ConductDefine(){
		set(motionSetEnd(EM_S007));
	});
	conduct(ConductMain, #ConductDefine(){
		search = SE_NEAR;
		move = MV_ABOUT_WALK;
		attack = AT_FIT;
		guard = GD_ALLROUND;

		branchConduct(1, 0.25f).co(checkWaitTime(13).and(checkDown()));
		branchConduct(2).co(checkHP(0.3f));
	});
	conduct(ConductMain, #ConductDefine(){
		search = SE_NEAR;
		move = MV_LEAVE_DASH;
		attack = AT_FIT;
		
		branchConduct(0).co(checkWaitTime(4));
	});
	conduct(ConductMain, #ConductDefine(){
		search = SE_NEAR;
		move = MV_LEAVE_DASH;
		guard = GD_ALLROUND;
		guardArg = #Float(1.0f);

	});
	conduct(ConductDead, #ConductDefine(){
		set( waitDeadEnd());
		pack(chatSet("Well... I couldn't have stood out...", 2, 1038));
	});

//----------------------------------------------------
	message(ADVENT,	0, "Ok, I'll show off my skills!");
	message(DEAD,	0, "Oh no...I give up...");
	message(WIN,	0, "Great! We win!");
	message(P_NICE,	0, "You really stand out! I'll try too!");
	message(T_NICE,	0, "Come and get some!");
	message(T_BAD,	0, "Hey, it's not enough.");
	message(E_ESC,	0, "Oh man, they've run away!!");
	message(DAMAGE,	0, "Guuu!");
	message(PINCH,	0, "Nooo, I have to keep going!");

//----------------------------------------------------
};


npc[id("MF", 5)] = #NPCInfo(){
	name = "Van Rajni";
	basetype = BASETYPE_DEKA;
	style = 0;
	head = 125;
	face = 8;
	body = 66;
	npcvoice = 112;
	
	HP = 60;
	guard = 0.8f;

	npcstyle = #copyof(getStyle(0)){
		scale = 1.00f;
		status(68, 50, 39, 29, 82);
		
		removeTech(techIndexOf(STATE_STANDATTACK, 0, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, 0, 2));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_FINISH, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_FINISH, 2));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_CHARGE, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_CHARGE, 2));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_COUNTER, 0));
		removeTech(techIndexOf(STATE_DASH, 0, 1));
		
		addTech(#TechData(){
			name = "Karate Combo";
			techset = "style/fighter";
			scp[0] = "S_a1";
			scp[1] = "S_a2";
			scp[2] = "S_a3";
			scp[3] = "S_A1";
			combotech = true;
			damage = 8;
			button = 1;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Strong Fighter Combo";
			techset = "style/fighter";
			scp[0] = "S_b1";
			scp[1] = "S_B1";
			combotech = true;
			damage = 10;
			groggydamage = 10;
			button = 2;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Spin of Magic Stick";
			techset = "npc/megaforce1";
			scp[0] = "van_S_a1c";
			damage = 15;
			button = 1;
			states = STATE_STANDATTACK;
			requires = TEC_CHARGE;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Poke of Magic Stick";
			techset = "npc/megaforce1";
			scp[0] = "van_S_b1c";
			damage = 19;
			button = 2;
			states = STATE_STANDATTACK;
			requires = TEC_CHARGE;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Shake of Magic Stick ";
			techset = "npc/megaforce1";
			scp[0] = "van_D_a1";
			damage = 17;
			button = 1;
			states = STATE_DASH;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Counter of Magic Stick";
			techset = "npc/megaforce1";
			scp[0] = "van_S_C";
			damage = 13;
			button = 0;
			states = STATE_STANDATTACK;
			requires = TEC_COUNTER;
			attr = ATTR_BEAT;
		});
	};
	
	judgment = 3;
	courage = 3;
	reflex = 3;

//-----------------------------------------------

	aitype = AIC_MANAGER;
//	conduct(ConductFirst, #ConductDefine(){
//		set( motionSet(EM_L001));
//	});
	conduct(ConductStart, #ConductDefine(){
		set(motionSetEnd(EM_S007));
	});
	
	conduct(ConductMain, #ConductDefine(){								// 0 間合い遠
		search = SE_NEAR;
		move = MV_APPROACH_DASH;
		moveArg = #Float(5.0f);
		guard = GD_FRONT;
		guard_sp = GDSP_GPC;
		gdr_pg = 0.3;
		gdr_counter = 0.3;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_DASH, 0),
						#NPCInfo$TecFilter(1, STATE_DASH, 0),
						#NPCInfo$TecFilter(1, STATE_DASH, 0),
						#NPCInfo$TecFilter(1, STATE_DASH, 0),
						#NPCInfo$TecFilter(1, STATE_DASH, 0),
						#NPCInfo$TecFilter(2, STATE_DASH, 0),
						#NPCInfo$TecFilter(1, STATE_DASH, TEC_DASHON),
						#NPCInfo$TecFilter(1, STATE_FLOW, 0),
						#NPCInfo$TecFilter(2, STATE_FLOW, 0),
						#NPCInfo$TecFilter(1, STATE_FLOW, TEC_FINISH));

		branchConduct(5).co(checkDown()).and(checkHP(0.5f));				// ＞自分ダウン（ＨＰ半減後）
		branchConduct(4).co(checkDown());									// ＞自分ダウン
		branchConduct(3).co(checkDownTarget());								// ＞相手ダウン
		branchConduct(2).co(attackEnd()).and(checkNear(2.0f));				// ＞間合い近
		branchConduct(1).co(attackEnd()).and(checkNear(3.0f));				// ＞間合い中
	});
	conduct(ConductMain, #ConductDefine(){								// 1 間合い中
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		moveArg = #Float(5.0f);
		guard = GD_FRONT;
		guard_sp = GDSP_GPC;
		gdr_pg = 0.3;
		gdr_counter = 0.3;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, TEC_CHARGE),
						#NPCInfo$TecFilter(1, STATE_STANDATTACK, TEC_CHARGE),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, TEC_CHARGE));

		branchConduct(5).co(checkDown()).and(checkHP(0.5f));				// ＞自分ダウン（ＨＰ半減後）
		branchConduct(4).co(checkDown());									// ＞自分ダウン
		branchConduct(3).co(checkDownTarget());								// ＞相手ダウン
		branchConduct(2).co(attackEnd()).and(checkNear(2.0f));				// ＞間合い近
		branchConduct(0).co(attackEnd()).and(checkLeave(3.0f));				// ＞間合い遠
	});
	conduct(ConductMain, #ConductDefine(){								// 2 間合い近
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_FRONT;
		guard_sp = GDSP_GPC;
		gdr_pg = 0.3;
		gdr_counter = 0.3;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, 0));

		branchConduct(5).co(checkDown()).and(checkHP(0.5f));				// ＞自分ダウン（ＨＰ半減後）
		branchConduct(4).co(checkDown());									// ＞自分ダウン
		branchConduct(3).co(checkDownTarget());								// ＞相手ダウン
		branchConduct(0).co(checkLeave(3.0f));								// ＞間合い遠
		branchConduct(1).co(checkLeave(2.0f));								// ＞間合い中
	});
	conduct(ConductMain, #ConductDefine(){								// 3 相手ダウン
		search = SE_NEAR;
		move = MV_LEAVE_JUMP;
		guard = GD_FRONT;
		guard_sp = GDSP_GPC;
		gdr_pg = 0.3;
		gdr_counter = 0.3;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_FLOW, 0),
						#NPCInfo$TecFilter(2, STATE_FLOW, 0),
						#NPCInfo$TecFilter(1, STATE_FLOW, TEC_FINISH));

		branchConduct(5).co(checkDown()).and(checkHP(0.5f));				// ＞自分ダウン（ＨＰ半減後）
		branchConduct(4).co(checkDown());									// ＞自分ダウン
		branchConduct(2).co(checkWaitTime(2)).and(checkNear(2.0f));				// ＞間合い近
		branchConduct(1).co(checkWaitTime(2)).and(checkNear(3.0f));				// ＞間合い中
		branchConduct(0).co(checkWaitTime(2));									// ＞間合い遠
	});
	conduct(ConductMain, #ConductDefine(){								// 4 自分ダウン
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_ALLROUND;
		guard_sp = GDSP_G;
		guardArg = #Float(2.0f);
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, 0));

		branchConduct(5).co(checkDown()).and(checkHP(0.5f));				// ＞自分ダウン（ＨＰ半減後）
		branchConduct(4).co(checkDown());									// ＞自分ダウン
		branchConduct(3).co(checkDownTarget());								// ＞相手ダウン
		branchConduct(0).co(checkWaitTime(1)).and(checkLeave(3.0f));		// ＞間合い遠
		branchConduct(1).co(checkWaitTime(1)).and(checkLeave(2.0f));		// ＞間合い中
		branchConduct(2).co(checkWaitTime(1));								// ＞間合い近
	});
	conduct(ConductMain, #ConductDefine(){								// 5 ＨＰ半減後 自分ダウン
		last_half = true;
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_ALLROUND;
		guard_sp = GDSP_G;
		guardArg = #Float(2.0f);
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(5, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(5, STATE_STANDATTACK, TEC_SPECIAL3));

		branchConduct(5).co(checkDown()).and(checkHP(0.5f));				// ＞自分ダウン（ＨＰ半減後）
		branchConduct(4).co(checkDown());									// ＞自分ダウン
		branchConduct(3).co(checkDownTarget());								// ＞相手ダウン
		branchConduct(0).co(checkWaitTime(3)).and(checkLeave(3.0f));		// ＞間合い遠
		branchConduct(1).co(checkWaitTime(3)).and(checkLeave(2.0f));		// ＞間合い中
		branchConduct(2).co(checkWaitTime(3));								// ＞間合い近
	});

	conduct(ConductDead, #ConductDefine(){
		set( waitDeadEnd());
		pack(chatSet("Uh, I haven't had enough training...", 2, 1038));
	});

//----------------------------------------------------
	message(ADVENT,	0, "I'll try not to ruin your efforts and do my best!");
	message(DEAD,	0, "Uh...I am sorry...");
	message(WIN,	0, "You did it!");
	message(P_NICE,	0, "I'm thrilled!");
	message(T_NICE,	0, "We are good! Don't worry.");
	message(T_BAD,	0, "Uh...Are we losing by any chance?");
	message(E_ESC,	0, "I am terribly sorry. I let let the enemy get away!");
	message(DAMAGE,	0, "Oh No!");
	message(PINCH,	0, "Uh... it's a bit difficult.");

//----------------------------------------------------
};


npc[id("MF", 6)] = #NPCInfo(){
	name = "Mighty";
	style = 2;
	head = 184;
	face = 2;
	body = 54;
	npcvoice = 115;
	
	judgment = 3;
	courage = 3;
	reflex = 3;
	
	HP = 70;
	guard = 0.5f;
	
	npcstyle = #copyof(getStyle(2)){
		scale = 0.94f;
		status(55, 50, 60, 50, 70);

		removeTech(techIndexOf(STATE_STANDATTACK, 0, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, 0, 2));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_FINISH, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_FINISH, 2));
		removeTech(techIndexOf(STATE_DASH, 0, 2));
		removeTech(techIndexOf(STATE_FLOW, 0, 2));
		removeTech(techIndexOf(STATE_STANDATTACK, 0, 5));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_COUNTER, 0));

		addTech(#TechData(){
			name = "Mighty Combo";
			techset = "npc/megaforce1";
			scp[0] = "boxing_S_a1";
			scp[1] = "boxing_S_a2";
			scp[2] = "boxing_S_a3";
			scp[3] = "mighty_S_A1";
			combotech = true;
			damage = 6;
			button = 1;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Mighty Rush";
			techset = "npc/megaforce1";
			scp[0] = "boxing_S_b1";
			scp[1] = "boxing_S_b2";
			scp[2] = "mighty_S_B1";
			combotech = true;
			damage = 9;
			groggydamage = 10;
			button = 2;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Sliding";
			techset = "npc/megaforce1";
			scp[0] = "mighty_D_b1";
			damage = 12;
			groggydamage = 10;
			button = 2;
			states = STATE_DASH;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Jump Combo";
			techset = "npc/megaforce1";
			scp[0] = "mighty_F_b1";
			damage = 15;
			groggydamage = 2;
			button = 2;
			states = STATE_FLOW;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Home Run";
			techset = "npc/megaforce1";
			scp[0] = "mighty_S_x1";
			damage = 20;
			groggydamage = 2;
			button = 5;
			states = STATE_STANDATTACK;
			usevoltage = 15;
			mp = 10;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Rush Counter";
			techset = "accs/boxing";
			scp[0] = "S_C";
			damage = 10;
			button = 0;
			states = STATE_STANDATTACK;
			requires = TEC_COUNTER;
			attr = ATTR_BEAT;
		});
	};

//-----------------------------------------------

	aitype = AIC_MANAGER;
//	conduct(ConductFirst, #ConductDefine(){
//		set( motionSet(EM_L001));
//	});
	conduct(ConductStart, #ConductDefine(){
		set(motionSetEnd(EM_S007));
	});
	
	conduct(ConductMain, #ConductDefine(){								// 0 間合い遠
		search = SE_NEAR;
		move = MV_APPROACH_DASH;
		moveArg = #Float(5.0f);
		guard = GD_FRONT;
		guard_sp = GDSP_GC;
		gdr_pg = 0.7;
		gdr_counter = 0.7;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(2, STATE_DASH, 0),
						#NPCInfo$TecFilter(2, STATE_FLOW, 0));

		branchConduct(3).co(checkDown());									// ＞自分ダウン逃げ
		branchConduct(1,0.7).co(attackEnd()).and(checkNear(2.0f));			// ＞間合い近（立ち攻撃）
		branchConduct(2   ).co(attackEnd()).and(checkNear(2.0f));			// ＞間合い近（必殺）
	});
	conduct(ConductMain, #ConductDefine(){								// 1 間合い近（立ち攻撃）
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_FRONT;
		guard_sp = GDSP_GC;
		gdr_pg = 0.7;
		gdr_counter = 0.7;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, 0));

		branchConduct(3).co(checkDown());									// ＞自分ダウン逃げ
		branchConduct(3).co(attackEnd());									// ＞逃げ
	});
	conduct(ConductMain, #ConductDefine(){								// 2 間合い近（必殺）
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_FRONT;
		guard_sp = GDSP_GC;
		gdr_pg = 0.7;
		gdr_counter = 0.7;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(5, STATE_STANDATTACK, 0));

		branchConduct(3).co(checkDown());									// ＞自分ダウン逃げ
		branchConduct(3).co(attackEnd());									// ＞逃げ
	});
	conduct(ConductMain, #ConductDefine(){								// 3 ダッシュ逃げ
		search = SE_NEAR;
		move = MV_LEAVE_DASH;
		guard = GD_FRONT;
		guard_sp = GDSP_G;
		guardArg = #Float(0.3f);
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(2, STATE_DASH, 0));

		branchConduct(0).co(checkWaitTime(1)).and(checkLeave(2.0f));		// ＞間合い遠・中
		branchConduct(1,0.7).co(checkWaitTime(1));							// ＞間合い近
		branchConduct(2    ).co(checkWaitTime(1));							// ＞間合い近
	});
	
	conduct(ConductDead, #ConductDefine(){
		set( waitDeadEnd());
		pack(chatSet("Am I too excited?!", 2, 1038));
	});

//----------------------------------------------------
	message(ADVENT,	0, "Here it comes! Mr. Mighty is right here!");
	message(DEAD,	0, "Am I too excited?!");
	message(WIN,	0, "Easy, easy. You are lucky to be with me!");
	message(P_NICE,	0, "Oh, you look really cool!");
	message(T_NICE,	0, "Ahaha, it's too easy!");
	message(T_BAD,	0, "What was that, guys? Keep going!");
	message(E_ESC,	0, "Huh, they got away...");
	message(DAMAGE,	0, "Ouch, don't come any closer! ");
	message(PINCH,	0, "Hey, I am serious! Time out!");

//----------------------------------------------------
};


///////////////////////////////////////////////////////
//	メガフォース非戦闘員
///////////////////////////////////////////////////////
npc[id("MFN", 0)] = #NPCInfo(){
	name = "Johnny Dan";
	style = 2;
	head = 452;
	face = 7;
	body = 136;
	deco = 120;
	npcvoice = 104;  //kari

	npcstyle = #copyof(getStyle(2)){
		scale = 1;
		status(60, 80, 40, 40, 80);

		removeTech(techIndexOf(STATE_STANDATTACK, 0, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, 0, 2));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_FINISH, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_FINISH, 2));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_CHARGE, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, 0, 5));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_SPECIAL3, 5));

		addTech(#TechData(){
			name = "Weak Soldier Combo";
			techset = "style/army";
			scp[0] = "S_a1";
			scp[1] = "S_a2";
			scp[2] = "S_a3";
			scp[3] = "S_A1";
			combotech = true;
			damage = 7;
			button = 1;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Strong Soldier Combo";
			techset = "style/army";
			scp[0] = "S_b1";
			scp[1] = "S_B1";
			combotech = true;
			damage = 10;
			groggydamage = 10;
			button = 2;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Laser";
			techset = "npc/megaforce1";
			scp[0] = "johnny_S_a1c";
			damage = 12;
			button = 1;
			states = STATE_STANDATTACK;
			requires = TEC_CHARGE;
			attr = ATTR_SHOT;
		});
		addTech(#TechData(){
			name = "Brush Shot";
			techset = "npc/megaforce1";
			scp[0] = "johnny_S_x1";
			damage = 16;
			button = 5;
			states = STATE_STANDATTACK;
			usevoltage = 15;
			mp = 10;
			attr = ATTR_SHOT;
		});
		addTech(#TechData(){
			name = "Hyper Burst";
			techset = "npc/megaforce1";
			scp[0] = "johnny_S_x2";
			damage = 22;
			button = 5;
			states = STATE_STANDATTACK;
			requires = TEC_SPECIAL3;
			usevoltage = 30;
			mp = 20;
			attr = ATTR_SHOT;
		});
	};

	judgment = 3;
	courage = 3;
	reflex = 3;
	guard = 0.5f;
	
	aitype = AIC_MANAGER;
	conduct(ConductMain, #ConductDefine(){								// 0 間合い遠
		search = SE_NEAR;
		move = MV_AMBUSH;
		moveArg = #Float(8.0f);
		guard = GD_FRONT;
		guard_sp = GDSP_G;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, TEC_CHARGE));

		branchConduct(3).co(checkDown());									// ＞自分ダウン逃げ
		branchConduct(2).co(attackEnd()).and(checkNear(2.0f));				// ＞間合い近
		branchConduct(1).co(attackEnd()).and(checkNear(3.0f));				// ＞間合い中
	});
	conduct(ConductMain, #ConductDefine(){								// 1 間合い中
		search = SE_NEAR;
		move = MV_ABOUT_DASH;
		guard = GD_FRONT;
		guard_sp = GDSP_GC;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_DASH, 0),
						#NPCInfo$TecFilter(2, STATE_DASH, 0),
						#NPCInfo$TecFilter(1, STATE_DASH, TEC_DASHON),
						#NPCInfo$TecFilter(1, STATE_FLOW, 0),
						#NPCInfo$TecFilter(2, STATE_FLOW, 0),
						#NPCInfo$TecFilter(1, STATE_FLOW, TEC_FINISH));

		branchConduct(3).co(checkDown());									// ＞自分ダウン逃げ
		branchConduct(2).co(attackEnd()).and(checkNear(2.0f));				// ＞間合い近
		branchConduct(0).co(attackEnd()).and(checkLeave(3.0f));				// ＞間合い遠
	});
	conduct(ConductMain, #ConductDefine(){								// 2 間合い近
		search = SE_NEAR;
		move = MV_ABOUT_JUMP;
		guard = GD_FRONT;
		guard_sp = GDSP_GC;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, 0));

		branchConduct(3).co(checkDown());									// ＞自分ダウン逃げ
		branchConduct(0).co(checkLeave(3.0f));								// ＞間合い遠
		branchConduct(1).co(checkLeave(2.0f));								// ＞間合い中
	});
	conduct(ConductMain, #ConductDefine(){								// 3 自分ダウン逃げ
		search = SE_NEAR;
		move = MV_LEAVE_DASH;
		guard = GD_FRONT;
		guard_sp = GDSP_G;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_DASH, 0),
						#NPCInfo$TecFilter(2, STATE_DASH, 0));

		branchConduct(4).co(checkWaitTime(1)).and(checkHP(0.5f));			// ＞必殺
		branchConduct(0).co(checkWaitTime(1)).and(checkLeave(3.0f));		// ＞間合い遠
		branchConduct(1).co(checkWaitTime(1)).and(checkLeave(2.0f));		// ＞間合い中
		branchConduct(2).co(checkWaitTime(1));								// ＞間合い近
	});
	conduct(ConductMain, #ConductDefine(){								// 4 HP半減後のダッシュ逃げ後
		last_half = true;
		search = SE_NEAR;
		move = MV_AMBUSH;
		moveArg = #Float(8.0f);
		guard = GD_FRONT;
		guard_sp = GDSP_G;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(5, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(5, STATE_STANDATTACK, TEC_SPECIAL3));

		branchConduct(0).co(attackEnd()).and(checkLeave(3.0f));				// ＞間合い遠
		branchConduct(1).co(attackEnd()).and(checkLeave(2.0f));				// ＞間合い中
		branchConduct(2).co(attackEnd());									// ＞間合い近
	});
};

npc[id("MFN", 1)] = #NPCInfo(){
	name = "Zen";
	style = 0;
	head = 510;
	face = 73;
	body = 111;
	npcvoice = 10;

	npcstyle = #copyof(getStyle(4)){
		scale = 1;
		status(40, 70, 70, 40, 50);
		
		removeTech(techIndexOf(STATE_STANDATTACK, 0, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, 0, 2));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_FINISH, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_FINISH, 2));
		removeTech(techIndexOf(STATE_FLOW, 0, 2));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_CHARGE, 2));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_SPECIAL3, 5));
		
		addTech(#TechData(){
			name = "Secret Combo";
			techset = "style/spy";
			scp[0] = "S_a1";
			scp[1] = "S_a1";
			scp[2] = "S_a3";
			scp[3] = "S_A1";
			combotech = true;
			damage = 8;
			button = 1;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Strong Spy Combo";
			techset = "style/spy";
			scp[0] = "S_b1";
			scp[1] = "S_B1";
			combotech = true;
			damage = 10;
			groggydamage = 10;
			button = 2;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Throwing Pen";
			techset = "npc/megaforce3";
			scp[0] = "zenziro_F_b1";
			damage = 10;
			button = 2;
			states = STATE_FLOW;
			attr = ATTR_SHOT;
		});
		addTech(#TechData(){
			name = "Zen Rush";
			techset = "npc/megaforce3";
			scp[0] = "zenziro_S_b1c";
			damage = 1;
			button = 2;
			states = STATE_STANDATTACK;
			requires = TEC_CHARGE;
			attr = ATTR_NO;
		});
		addTech(#TechData(){
			name = "Rapid Shooting";
			techset = "npc/megaforce3";
			scp[0] = "zenziro_S_x2";
			damage = 1;
			button = 5;
			states = STATE_STANDATTACK;
			requires = TEC_SPECIAL3;
			usevoltage = 30;
			mp = 20;
			attr = ATTR_NO;
		});
	};

	HP = 70;
	judgment = 3;
	courage = 3;
	reflex = 3;
	guard = 0.6f;
	
	aitype = AIC_MANAGER;
	conduct(ConductMain, #ConductDefine(){								// 0 間合い遠
		search = SE_NEAR;
		move = MV_AROUND_DASH;
		moveArg = #Float(5.0f);
		guard = GD_FRONT;
		guard_sp = GDSP_G;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_DASH, 0),
						#NPCInfo$TecFilter(2, STATE_DASH, 0),
						#NPCInfo$TecFilter(1, STATE_FLOW, 0),
						#NPCInfo$TecFilter(2, STATE_FLOW, 0),
						#NPCInfo$TecFilter(2, STATE_FLOW, 0));

		branchConduct(4).co(checkDown());											// ＞自分ダウン
		branchConduct(3).co(attackEnd()).and(checkNear(2.0f)).and(checkHP(0.5f));	// ＞間合い近（HP半減後）
		branchConduct(2).co(attackEnd()).and(checkNear(2.0f));						// ＞間合い近
		branchConduct(1).co(attackEnd()).and(checkNear(3.0f));						// ＞間合い中
	});
	conduct(ConductMain, #ConductDefine(){								// 1 間合い中
		search = SE_NEAR;
		move = MV_AROUND_JUMP;
		guard = GD_FRONT;
		guard_sp = GDSP_G;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(2, STATE_STANDATTACK, TEC_CHARGE),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, TEC_CHARGE),
						#NPCInfo$TecFilter(1, STATE_FLOW, 0),
						#NPCInfo$TecFilter(2, STATE_FLOW, 0));

		branchConduct(4).co(checkDown());											// ＞自分ダウン
		branchConduct(3).co(attackEnd()).and(checkNear(2.0f)).and(checkHP(0.5f));	// ＞間合い近（HP半減後）
		branchConduct(2).co(attackEnd()).and(checkNear(2.0f));						// ＞間合い近
		branchConduct(0).co(attackEnd()).and(checkLeave(3.0f));						// ＞間合い遠
	});
	conduct(ConductMain, #ConductDefine(){								// 2 間合い近
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_FRONT;
		guard_sp = GDSP_G;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(2, STATE_STANDATTACK, TEC_CHARGE));

		branchConduct(4).co(checkDown());											// ＞自分ダウン
		branchConduct(4).co(attackEnd());											// ＞攻撃後離脱
	});
	conduct(ConductMain, #ConductDefine(){								// 3 HP半減後、間合い中
		search = SE_NEAR;
		move = MV_AROUND_JUMP;
		guard = GD_FRONT;
		guard_sp = GDSP_G;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(5, STATE_STANDATTACK, TEC_SPECIAL3));

		branchConduct(4).co(checkDown());											// ＞自分ダウン
		branchConduct(4).co(attackEnd());											// ＞攻撃後離脱
	});
	conduct(ConductMain, #ConductDefine(){								// 4 ダッシュで逃げ
		search = SE_NEAR;
		move = MV_LEAVE_DASH;
		guard = GD_FRONT;
		guard_sp = GDSP_G;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_DASH, 0),
						#NPCInfo$TecFilter(2, STATE_DASH, 0),
						#NPCInfo$TecFilter(1, STATE_FLOW, 0),
						#NPCInfo$TecFilter(2, STATE_FLOW, 0),
						#NPCInfo$TecFilter(2, STATE_FLOW, 0));

		branchConduct(4).co(checkDown());											// ＞自分ダウン
		branchConduct(0).co(checkWaitTime(1)).and(checkLeave(3.0f));				// ＞間合い遠
		branchConduct(1).co(checkWaitTime(1)).and(checkLeave(2.0f));				// ＞間合い中
		branchConduct(3).co(checkWaitTime(1)).and(checkHP(0.5f));					// ＞間合い近（HP半減後）
		branchConduct(2).co(checkWaitTime(1));										// ＞間合い近
	});
};


///////////////////////////////////////////////////////
//	メガフォースおまけ戦闘員
///////////////////////////////////////////////////////
npc[id("MFEX", 0)] = #NPCInfo(){
	name = "Daigokuin Raizo";
	style = 4;
	head = 120;
	face = 30;
	body = 310;
	deco = 80;
	npcvoice = 9;

	npcstyle = #copyof(getStyle(0)){
		scale = 1;
		status(70, 50, 15, 15, 80);

		clearTech();
		addTech(#TechData(){
			name = "Circle Throw";
			techset = "npc/megaforce3";
			scp[0] = "socyo_S_a1";
			damage = 13;
			button = 1;
			states = STATE_STANDATTACK;
			attr = ATTR_HOLD;
			ignoreguard = true;
		});
		addTech(#TechData(){
			name = "Arm Shoulder Throw";
			techset = "npc/megaforce3";
			scp[0] = "socyo_S_b1";
			damage = 16;
			button = 2;
			states = STATE_STANDATTACK;
			attr = ATTR_HOLD;
			ignoreguard = true;
		});
		addTech(#TechData(){
			name = "Legs Throw";
			techset = "npc/megaforce3";
			scp[0] = "socyo_D_b1";
			damage = 14;
			button = 2;
			states = STATE_DASH;
			attr = ATTR_HOLD;
			ignoreguard = true;
		});
		addTech(#TechData(){
			name = "Return Throw";
			techset = "npc/megaforce3";
			scp[0] = "socyo_C";
			damage = 10;
			button = 0;
			states = STATE_STANDATTACK;
			requires = TEC_COUNTER;
		});
	};

	HP = 60;
	judgment = 3;
	courage = 3;
	reflex = 3;
	guard = 1.3f;
	
	aitype = AIC_MANAGER;
	// テスト
/*	conduct(ConductMain, #ConductDefine(){								// 
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_FRONT;
		guard_sp = GDSP_C;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(2, STATE_STANDATTACK, 0));
	});
*/
	conduct(ConductMain, #ConductDefine(){								// 0 歩き
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_ALLROUND;
		guard_sp = GDSP_C;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, 0));

		branchConduct(2,0.2).co(checkWaitTime(2)).and(checkLeave(2.0f));
		branchConduct(1).co(checkWaitTime(2));								// ＞静止
	});
	conduct(ConductMain, #ConductDefine(){								// 1 静止
		search = SE_NEAR;
		move = MV_AMBUSH;
		moveArg = #Float(8.0f);
		guard = GD_ALLROUND;
		guard_sp = GDSP_C;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, 0));

		branchConduct(2,0.2).co(checkWaitTime(2)).and(checkLeave(2.0f));
		branchConduct(0).co(checkWaitTime(2));								// ＞歩き
	});
	conduct(ConductMain, #ConductDefine(){								// 1 一定確率でダッシュ攻撃
		search = SE_NEAR;
		move = MV_APPROACH_DASH;
		guard = GD_ALLROUND;
		guard_sp = GDSP_C;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(2, STATE_DASH, 0));
		
		branchConduct(0).co(attackEnd());
	});
};

npc[id("MFEX", 1)] = #NPCInfo(){
	name = "Masami";
	style = 1;
	head = 373;
	face = 16;
	body = 322;
	npcvoice = 103;
	npcstyle = #copyof(getStyle(1)){
		scale = 0.937f;
	};
};

npc[id("MFEX", 2)] = #NPCInfo(){
	name = "Master Saga";
	style = 4;
	head = 520;
	face = 20;
	body = 63;
	deco = 30;
	npcvoice = 1;

	npcstyle = #copyof(getStyle(1)){
		scale = 0.9f;
		status(75, 70, 70, 70, 80);
};

//-----------------------------------------------

	HP = 88;
};

npc[id("MFEX", 3)] = #NPCInfo(){
	name = "ROU-4";
	style = 0;
	head = 520;
	face = 41;
	body = 513;
	npcvoice = 90;


//-----------------------------------------------

	HP = 1000;

};

npc[id("MFEX", 4)] = #NPCInfo(){
	name = "Dr.Diaper";
	style = 4;
	head = 318;
	face = 70;
	body = 303;
	deco = 70;
	npcvoice = 5;
	
	npcstyle = #copyof(getStyle(0)){
		scale = 0.78f;
	};
};

npc[id("MFEX", 5)] = #NPCInfo(){
	name = "Dolores";
	style = 1;
	head = 1500;	//195;
	face = 246;		//67;
	body = 1513;	//80;
	npcvoice = 3;
};

npc[id("MFEX", 6)] = #NPCInfo(){
	name = "L.J";
	style = 0;
	head = 112;
	face = 72;
	body = 356;
	deco = 90;
	npcvoice = 11;
};

npc[id("MFEX", 7)] = #NPCInfo(){
	name = "Assistant Carlson ";
	style = 2;
	head = 553;
	face = 2;
	body = 44;
	deco = 200;
	accs = 0;
};

npc[id("MFEX", 8)] = #NPCInfo(){
	name = "Kathy";
	style = 1;
	head = 1520;	//628;
	face = 248;		//69;
	body = 1523;	//450;
};

npc[id("MFEX", 9)] = #NPCInfo(){
	name = "Dr. Diaper";
	style = 17;
	head = 318;
	face = 70;
	body = 303;
	deco = 70;
	npcvoice = 5;
	basetype = BASETYPE_SARMOR;
	weapon = 132;
	
	optionview = "/special/robot_a_normal/robot_a_normal.scm";
	build = #StyleData$Build(){
		name = "d";
		basescale = 1;

		colbnd.set(0,1.0f,0,0.4f,0.95f,0.4f);
		atkbnd.set(0,0.5f,0,0.42f,0.47f,0.42f);
		coly = 0.5f;
		colr = 0.7f;
		footy = 0.68f;
		footlen = 0.7f;
	};
	
	npcstyle = #copyof(getStyle(8)){
		basemotion = "ride1";
		
		anime[VIEW_STOP] = #Animation(  5,  7, 1,true);
		fightingpose=#FightingPose("ride1", 6, 7, 1, false){};
		
		anime[VIEW_WALK] = #Animation(  10,  18, 20,true);
		anime[VIEW_DASH] = #Animation(  20,  22, 42,true);
		anime[VIEW_BREAK] = #Animation(  45,  46, 18,false);
		anime[VIEW_JUMP1] = #Animation(  30,  31, 20,false);
		anime[VIEW_JUMPUP1] = #Animation(  31,  32, 12,false);
		anime[VIEW_FLOW1] = #Animation(  32,  33, 4,false);
		anime[VIEW_LAND1] = #Animation(  35, 38, 10,false);
		anime[VIEW_JUMP2] = #Animation(  30,  31, 20,false);
		anime[VIEW_JUMPUP2] = #Animation(  31,  32, 12,false);
		anime[VIEW_FLOW2] = #Animation(  32,  33, 3,false);
		anime[VIEW_LAND2] = #Animation(  35, 38, 10,false);
		anime[VIEW_DOUBLEJUMP] = #Animation(  32,  32, 5,false);
		anime[VIEW_AIM] = #Animation(  50,  52, 3,true);
		anime[VIEW_AIM_TARGET] = #Animation(  55,  55, 10,false);
		
		anime[VIEW_MOUSE_SLOW] = #Animation(  10,  18, 14,true);
		anime[VIEW_MOUSE_FAST] = #Animation(  10,  18, 20,true);
		
		status(60, 60, 50, 70, 240);
		
		clearTech();
		addTech(#TechData(){
			name = "Armed Impact";
			techset = "special/robot_a_normal";
			scp[0] = "S_A1";
			damage = 13;
			strrate = 0.7;
			tecrate = 0.2;
			attr = ATTR_NONE;//attr = ATTR_NO;
			
			button = 1;
			states = STATE_STANDATTACK;
			requires = TEC_FINISH;
		});
		addTech(#TechData(){
			name = "Press Down";
			techset = "special/robot_a_normal";
			scp[0] = "S_B1";	
			damage = 14;
			strrate = 0.7;
			tecrate = 0.2;
			attr = ATTR_NONE;//attr = ATTR_NO;
	
			button = 2;
			states = STATE_STANDATTACK;
			requires = TEC_FINISH;
		});
		addTech(#TechData(){
			name = "Tackle Combo";
			techset =  "special/robot_a_normal";
			scp[0] = "D_a1";	
			scp[1] = "D_a2";
			combotech = true;
			damage = 11;
			strrate = 0.7;
			tecrate = 0.2;
			attr = ATTR_NONE;//attr = ATTR_NO;
		
			button = 1;
			states = STATE_DASH;
		});
		addTech(#TechData(){
			name = "Heavy Uppercut";
			techset =  "special/robot_a_normal";
			scp[0] = "D_b1";	
			damage = 15;
			strrate = 0.7;
			tecrate = 0.2;
			attr = ATTR_NONE;//attr = ATTR_NO;
	
			button = 2;
			states = STATE_DASH;
		});
		addTech(#TechData(){
			techset =  "special/robot_a_normal";
			name = "Blast Laser";
			ctr = "Special Attack";
			scp[0] = "S_x1";
			damage = 23;
			strrate = 0.3;
			tecrate = 0.5;
			attr = ATTR_NONE;//attr = ATTR_NO;
	
			button = 5;
			states = STATE_STANDATTACK;
			usevoltage = 15;
			mp = 10;
		});
		addTech(#TechData(){
			techset = "special/robot_a_normal";;
			name = "Blast Flare";
			ctr = "Super Attack";
			scp[0] = "S_x2";
			damage = 31;
			strrate = 0.3;
			tecrate = 0.5;
			attr = ATTR_NONE;//attr = ATTR_NO;
	
			button = 5;
			requires = TEC_SPECIAL3;
			states = STATE_STANDATTACK;
			usevoltage = 30;
			mp = 20;
		});
		
	};


//-----------------------------------------------

	HP = 50;
	judgment = 5;
	courage = 3;
	reflex = 5;
	guard = 1.2f;

	aitype = AIC_MANAGER;
	conduct(ConductMain, #ConductDefine(){								// 1 間合い遠、中
		search = SE_NEAR;
		move = MV_ABOUT_DASH;
		moveArg = #Float(5.0f);
		guard = GD_ALLROUND;
		guard_sp = GDSP_PC;
		gdr_counter = 0.3f;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_DASH, 0),
						#NPCInfo$TecFilter(2, STATE_DASH, 0));

		branchConduct(3).co(checkDown());									// ＞自分ダウン逃げ
		branchConduct(2).co(attackEnd()).and(checkNear(2.0f));				// ＞間合い近
		branchConduct(1,0.5).co(attackEnd()).and(checkHP(0.5f));			// ＞間合い遠、中
	});
	conduct(ConductMain, #ConductDefine(){								// 1 間合い遠、中
		last_half = true;
		search = SE_NEAR;
		move = MV_ABOUT_WALK;
		moveArg = #Float(8.0f);
		guard = GD_ALLROUND;
		guard_sp = GDSP_PC;
		gdr_counter = 0.3f;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(2, STATE_STANDATTACK, TEC_CHARGE));

		branchConduct(3).co(checkDown());									// ＞自分ダウン逃げ
		branchConduct(2).co(attackEnd()).and(checkNear(2.0f));				// ＞間合い近
		branchConduct(0).co(attackEnd());									// ＞間合い遠・中
	});
	conduct(ConductMain, #ConductDefine(){								// 2 間合い近
		search = SE_NEAR;
		move = MV_APPROACH_WALK;
		guard = GD_ALLROUND;
		guard_sp = GDSP_PC;
		gdr_counter = 0.3f;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, 0));

		branchConduct(3).co(checkDown());									// ＞自分ダウン逃げ
		branchConduct(1,0.5).co(checkLeave(2.0f)).and(checkHP(0.5f));		// ＞間合い遠、中
		branchConduct(0    ).co(checkLeave(2.0f));							// ＞間合い遠、中
	});
	conduct(ConductMain, #ConductDefine(){								// 3 自分ダウン後
		search = SE_NEAR;
		move = MV_LEAVE_DASH;
		guard = GD_ALLROUND;
		guard_sp = GDSP_C;
		guardArg = #Float(2.0f);
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_DASH, 0),
						#NPCInfo$TecFilter(2, STATE_DASH, 0));

		branchConduct(5).co(checkWaitTime(1)).and(checkHP(0.5f));			// ＞必殺３
		branchConduct(4).co(checkWaitTime(1));								// ＞必殺１
	});
	conduct(ConductMain, #ConductDefine(){								// 4 必殺１
		search = SE_NEAR;
		move = MV_AMBUSH;
		moveArg = #Float(7.0f);
		guard = GD_ALLROUND;
		guard_sp = GDSP_PC;
		gdr_counter = 0.3f;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(5, STATE_STANDATTACK, 0));

		branchConduct(2).co(attackEnd()).and(checkNear(2.0f));				// ＞間合い近
		branchConduct(1,0.5).co(attackEnd()).and(checkHP(0.5f));			// ＞間合い遠、中
		branchConduct(0,0.5).co(attackEnd());								// ＞間合い遠、中
	});
	conduct(ConductMain, #ConductDefine(){								//5 必殺２
		search = SE_NEAR;
		move = MV_AMBUSH;
		moveArg = #Float(7.0f);
		guard = GD_ALLROUND;
		guard_sp = GDSP_PC;
		gdr_counter = 0.3f;
		attack = AT_ON_SITE;
		attackArg =   #(#NPCInfo$TecFilter(5, STATE_STANDATTACK, TEC_SPECIAL3));

		branchConduct(2).co(attackEnd()).and(checkNear(2.0f));				// ＞間合い近
		branchConduct(1,0.5).co(attackEnd()).and(checkHP(0.5f));			// ＞間合い遠、中
		branchConduct(0,0.5).co(attackEnd());								// ＞間合い遠、中
	});

};

npc[id("MFEX", 10)] = #NPCInfo(){
	name = "Master Saga";
	style = 12;
	head = 520;
	face = 20;
	body = 63;
	deco = 30;
	npcvoice = 1;
	
	judgment = 5;
	courage = 2;
	reflex = 5;
	guard = 0.4;
	
	HP = 75;
	npcstyle = #copyof(getStyle(12)){
		scale = 0.9f;
		status(70, 70, 70, 70, 80);
		
		removeTech(techIndexOf(STATE_STANDATTACK, 0, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, 0, 2));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_FINISH, 1));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_FINISH, 2));
		removeTech(techIndexOf(STATE_STANDATTACK, 0, 5));
		removeTech(techIndexOf(STATE_STANDATTACK, TEC_SPECIAL3, 5));
		
		addTech(#TechData(){
			name = "Weak Combo";
			techset = "style/swordplay";
			scp[0] = "S_a1";
			scp[1] = "S_a2";
			scp[2] = "S_a3";
			scp[3] = "S_A1";
			combotech = true;
			damage = 7;
			groggydamage = 6;
			button = 1;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
		addTech(#TechData(){
			name = "Strong Combo";
			techset = "style/swordplay";
			scp[0] = "S_b1";
			scp[1] = "S_B1";
			combotech = true;
			damage = 10;
			groggydamage = 10;
			button = 2;
			states = STATE_STANDATTACK;
			attr = ATTR_BEAT;
		});
	};
	
//-----------------------------------------------

	aitype = AIC_MANAGER;

//	conduct(ConductFirst, #ConductDefine(){
//		set( motionSet(EM_L001));
//	});
//	conduct(ConductStart, #ConductDefine(){
//		set(motionSetEnd(EM_S007));
//	});


	conduct(ConductMain, #ConductDefine(){							// 0 基本（立ち攻撃）
		search = SE_NEAR;
		move = MV_AROUND_DASH;
		guard = GD_FRONT;
		guard_sp = GDSP_GPC;
		guardArg = #Float(0.7f);
		gdr_pg = 0.4f;
		gdr_counter = 0.05f;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, 0));

		branchConduct(2).co(checkDown());								// ＞自分ダウン
		branchConduct(3).co(checkDownTarget());							// ＞相手ダウン
		branchConduct(1).co(checkLeave(2.0f));							// ＞基本（ジャンプ攻撃）
		branchConduct(0).co(attackEnd());								// ＞経過時間リセットのため
		branchConduct(4).co(checkWaitTime(10));							// ＞全然攻撃しない対策
	});
	conduct(ConductMain, #ConductDefine(){							// 1 基本（ジャンプ攻撃）
		search = SE_NEAR;
		move = MV_AROUND_DASH;
		guard = GD_FRONT;
		guard_sp = GDSP_GPC;
		guardArg = #Float(0.7f);
		gdr_pg = 0.4f;
		gdr_counter = 0.05f;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_FLOW, 0),
						#NPCInfo$TecFilter(2, STATE_FLOW, 0),
						#NPCInfo$TecFilter(1, STATE_FLOW, TEC_FINISH));

		branchConduct(2).co(checkDown());								// ＞自分ダウン
		branchConduct(3).co(checkDownTarget());							// ＞相手ダウン
		branchConduct(0).co(checkNear(2.0f));							// ＞基本（立ち攻撃）
		branchConduct(1).co(attackEnd());								// ＞経過時間リセットのため
		branchConduct(4).co(checkWaitTime(10));							// ＞全然攻撃しない対策
	});
	conduct(ConductMain, #ConductDefine(){							// 2 自分ダウン
		search = SE_NEAR;
		move = MV_AMBUSH;
		guard = GD_ALLROUND;
		guard_sp = GDSP_C;
		guardArg = #Float(3.0f);
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, 0));

		branchConduct(0).co(checkWaitTime(3)).and(checkNear(2.0f));		// ＞基本（立ち攻撃）
		branchConduct(1).co(checkWaitTime(3));							// ＞基本（ジャンプ攻撃）
	});
	conduct(ConductMain, #ConductDefine(){							// 3 相手ダウン
		search = SE_NEAR;
		move = MV_ABOUT_WALK;
		guard = GD_FRONT;
		guard_sp = GDSP_GPC;
		guardArg = #Float(0.7f);
		gdr_pg = 0.4f;
		gdr_counter = 0.05f;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(2, STATE_STANDATTACK, 0),
						#NPCInfo$TecFilter(1, STATE_FLOW, 0),
						#NPCInfo$TecFilter(2, STATE_FLOW, 0),
						#NPCInfo$TecFilter(1, STATE_FLOW, TEC_FINISH));

		branchConduct(0).co(checkWaitTime(2)).and(checkNear(2.0f));		// ＞基本（立ち攻撃）
		branchConduct(1).co(checkWaitTime(2));							// ＞基本（ジャンプ攻撃）
	});
	conduct(ConductMain, #ConductDefine(){							// 4 全然攻撃しない対策
		search = SE_NEAR;
		move = MV_APPROACH_DASH;
		guard = GD_FRONT;
		guard_sp = GDSP_GPC;
		guardArg = #Float(0.7f);
		gdr_pg = 0.4f;
		gdr_counter = 0.05f;
		attack = AT_FIT;
		attackArg =   #(#NPCInfo$TecFilter(1, STATE_DASH, 0),
						#NPCInfo$TecFilter(2, STATE_DASH, 0),
						#NPCInfo$TecFilter(1, STATE_DASH, TEC_DASHON));

		branchConduct(0).co(attackEnd()).and(checkNear(2.0f));			// ＞基本（立ち攻撃）
		branchConduct(1).co(attackEnd());								// ＞基本（ジャンプ攻撃）
	});


};

npc[id("MFEX", 3)] = #NPCInfo(){
	name = "ROU-4";
	style = 0;
	head = 520;
	face = 41;
	body = 513;
	npcvoice = 90;


//-----------------------------------------------

	HP = 1000;

};
